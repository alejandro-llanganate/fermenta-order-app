(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{32553:function(e,t,a){Promise.resolve().then(a.bind(a,29470))},29470:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eR}});var s=a(57437),r=a(2265),i=a(11213),l=a(10527),n=a(51930),d=a(37841),o=a(27780),c=a(20703);function x(e){let{size:t="md",className:a=""}=e;return(0,s.jsx)("div",{className:"flex items-center ".concat(a),children:(0,s.jsx)("div",{className:"inline-flex items-center justify-center ".concat({sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"}[t]),children:(0,s.jsx)("img",{src:"/logo-donaut.jpeg",alt:"Logo",className:"w-full h-full object-contain"})})})}var m=a(70129),u=a(48324),h=a(62707),g=a(3251),p=a(58621);function j(e){let{isOpen:t,onClose:a}=e,i=[{icon:h.Z,title:"Email",value:"alejandro.llanganate@owasp.org",href:"mailto:alejandro.llanganate@owasp.org",color:"text-blue-600"},{icon:g.Z,title:"WhatsApp",value:"+593 98 335 2024",href:"https://wa.me/593983352024",color:"text-green-600"}];return(0,s.jsx)(m.u.Root,{show:t,as:r.Fragment,children:(0,s.jsxs)(u.V,{as:"div",className:"relative z-50",onClose:a,children:[(0,s.jsx)(m.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,s.jsx)(m.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsxs)(u.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,s.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,s.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",onClick:a,children:[(0,s.jsx)("span",{className:"sr-only",children:"Cerrar"}),(0,s.jsx)(p.Z,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,s.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,s.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-orange-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,s.jsx)(h.Z,{className:"h-6 w-6 text-orange-600","aria-hidden":"true"})}),(0,s.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,s.jsx)(u.V.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:"Contacto del Administrador"}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Si olvidaste tu contrase\xf1a, contacta con el administrador del sistema:"}),(0,s.jsx)("div",{className:"space-y-3",children:i.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)(e.icon,{className:"h-5 w-5 ".concat(e.color)}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,s.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 underline",children:e.value})]})]},t))})]})]})]}),(0,s.jsx)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:(0,s.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-orange-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:ml-3 sm:w-auto",onClick:a,children:"Entendido"})})]})})})})]})})}var b=a(34059),y=a(92600),N=a(82800),v=a(85497),f=a(62457),w=a(22071),C=a(26490),P=a(81049),A=a(48219),D=a(77326),k=a(63236),S=a(53879),R=a(70094),E=a(28670),I=a(58106),M=a(52235),V=a(80037);let z=[{id:"1",nombres:"Alejandro",apellidos:"Llanga Nate",username:"alejandro.llanga",cedula:"1234567890",rol:"Administrador",isActive:!0,createdAt:new Date("2024-01-15")},{id:"2",nombres:"Mar\xeda",apellidos:"Gonz\xe1lez",username:"maria.gonzalez",cedula:"0987654321",rol:"Asistente",isActive:!0,createdAt:new Date("2024-02-10")},{id:"3",nombres:"Carlos",apellidos:"Rodr\xedguez",username:"carlos.rodriguez",cedula:"1122334455",rol:"Secretaria",isActive:!0,createdAt:new Date("2024-01-20")},{id:"4",nombres:"Ana",apellidos:"Mart\xednez",username:"ana.martinez",cedula:"5566778899",rol:"Asistente",isActive:!0,createdAt:new Date("2024-02-05")},{id:"5",nombres:"Luis",apellidos:"Hern\xe1ndez",username:"luis.hernandez",cedula:"9988776655",rol:"Secretaria",isActive:!1,createdAt:new Date("2024-01-25")},{id:"6",nombres:"Patricia",apellidos:"L\xf3pez",username:"patricia.lopez",cedula:"4433221100",rol:"Asistente",isActive:!0,createdAt:new Date("2024-02-15")},{id:"7",nombres:"Roberto",apellidos:"P\xe9rez",username:"roberto.perez",cedula:"6677889900",rol:"Secretaria",isActive:!0,createdAt:new Date("2024-01-30")},{id:"8",nombres:"Carmen",apellidos:"Garc\xeda",username:"carmen.garcia",cedula:"2233445566",rol:"Asistente",isActive:!0,createdAt:new Date("2024-02-20")},{id:"9",nombres:"Fernando",apellidos:"Torres",username:"fernando.torres",cedula:"7788990011",rol:"Secretaria",isActive:!1,createdAt:new Date("2024-02-01")},{id:"10",nombres:"Isabel",apellidos:"Vargas",username:"isabel.vargas",cedula:"3344556677",rol:"Asistente",isActive:!0,createdAt:new Date("2024-02-25")}];function T(){let e=new Date().getFullYear();return(0,s.jsx)("footer",{className:"bg-gray-800 text-white mt-auto",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"Mega Donut"}),(0,s.jsx)("p",{className:"text-sm text-gray-300",children:"Sistema de Gesti\xf3n"})]})]}),(0,s.jsx)("p",{className:"text-gray-300 text-sm",children:"Sistema inteligente de gesti\xf3n de pedidos para Mega Donut. Facilitamos la administraci\xf3n de usuarios, clientes, rutas y pedidos."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Informaci\xf3n de contacto"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-gray-300",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),(0,s.jsx)("span",{children:"Mega Donut"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})}),(0,s.jsx)("span",{children:"+593 98 335 2024"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),(0,s.jsx)("span",{children:"alejandro.llanganate@owasp.org"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"M\xf3dulos del sistema"}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-gray-300",children:[(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:"hover:text-white transition-colors cursor-pointer",children:"Gesti\xf3n de usuarios"})}),(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:"hover:text-white transition-colors cursor-pointer",children:"Gesti\xf3n de clientes"})}),(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:"hover:text-white transition-colors cursor-pointer",children:"Gesti\xf3n de rutas"})}),(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:"hover:text-white transition-colors cursor-pointer",children:"Gesti\xf3n de pedidos"})})]})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-700 mt-8 pt-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["\xa9 ",e," Mega Donut - Sistema de Gesti\xf3n de Pedidos. Todos los derechos reservados."]}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-2 md:mt-0",children:"Desarrollado para Mega Donut"})]})})]})})}function Z(e){let{onBack:t}=e,[a,i]=(0,r.useState)(z),[l,n]=(0,r.useState)(""),[d,o]=(0,r.useState)(!1),[c,x]=(0,r.useState)(null),[m,u]=(0,r.useState)("Todos"),[h,g]=(0,r.useState)({nombres:"",apellidos:"",username:"",cedula:"",rol:"Asistente"}),p=(e,t)=>{let a=e.toLowerCase().split(" ")[0],s=t.toLowerCase().split(" ")[0];return"".concat(a,".").concat(s)},j=e=>{confirm("\xbfEst\xe1 seguro de que desea eliminar este usuario? Esta acci\xf3n no se puede deshacer.")&&i(a.filter(t=>t.id!==e))},y=e=>{i(a.map(t=>t.id===e?{...t,isActive:!t.isActive}:t))},N=a.filter(e=>{let t=e.nombres.toLowerCase().includes(l.toLowerCase())||e.apellidos.toLowerCase().includes(l.toLowerCase())||e.username.toLowerCase().includes(l.toLowerCase())||e.cedula.includes(l),a="Todos"===m||e.rol===m;return t&&a}),f=e=>{x(e),g({nombres:e.nombres,apellidos:e.apellidos,username:e.username,cedula:e.cedula,rol:e.rol})},w=()=>{o(!1),x(null),g({nombres:"",apellidos:"",username:"",cedula:"",rol:"Asistente"})},C=e=>{switch(e){case"Administrador":return(0,s.jsx)(D.Z,{className:"h-4 w-4"});case"Asistente":return(0,s.jsx)(v.Z,{className:"h-4 w-4"});case"Secretaria":return(0,s.jsx)(k.Z,{className:"h-4 w-4"});default:return(0,s.jsx)(b.Z,{className:"h-4 w-4"})}},P=(e,t)=>{switch(e){case"toggle":return t.isActive?"Desactivar Usuario":"Activar Usuario";case"edit":return"Editar Informaci\xf3n";case"delete":return"Eliminar Usuario";default:return""}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-white rounded-lg transition-colors",children:(0,s.jsx)(S.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(b.Z,{className:"h-8 w-8 text-orange-500"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesti\xf3n de usuarios"})]})]}),(0,s.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:[(0,s.jsx)(R.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Agregar nuevo usuario"})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(E.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar por nombre, apellido o c\xe9dula...",value:l,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600"})]})}),(0,s.jsx)("div",{className:"md:w-48",children:(0,s.jsxs)("select",{value:m,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900",children:[(0,s.jsx)("option",{value:"Todos",children:"Todos los roles"}),(0,s.jsx)("option",{value:"Administrador",children:"Administrador"}),(0,s.jsx)("option",{value:"Asistente",children:"Asistente"}),(0,s.jsx)("option",{value:"Secretaria",children:"Secretaria"})]})})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Informaci\xf3n del Usuario"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"N\xfamero de C\xe9dula"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo de Usuario"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado Actual"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha de Registro"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opciones Disponibles"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.nombres," ",e.apellidos]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Usuario: @",e.username]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.cedula}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[C(e.rol),(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Administrador"===e.rol?"bg-red-100 text-red-800":"Asistente"===e.rol?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.rol})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Usuario Activo":"Usuario Inactivo"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.createdAt.toLocaleDateString("es-ES")}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:()=>y(e.id),className:"text-gray-400 hover:text-gray-600 p-1 rounded",title:P("toggle",e),children:e.isActive?(0,s.jsx)(I.Z,{className:"h-4 w-4"}):(0,s.jsx)(v.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>f(e),className:"text-blue-600 hover:text-blue-900 px-3 py-1 rounded text-xs font-medium border border-blue-200 hover:bg-blue-50",title:P("edit",e),children:"Editar"}),(0,s.jsx)("button",{onClick:()=>j(e.id),className:"text-red-600 hover:text-red-900 px-3 py-1 rounded text-xs font-medium border border-red-200 hover:bg-red-50",title:P("delete",e),children:"Eliminar"})]})})]},e.id))})]})})}),(d||c)&&(0,s.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm overflow-y-auto h-full w-full z-50",onClick:e=>{e.target===e.currentTarget&&w()},children:(0,s.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:c?"Modificar Informaci\xf3n del Usuario":"Registrar Nuevo Usuario"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombres Completos *"}),(0,s.jsx)("input",{type:"text",value:h.nombres,onChange:e=>g({...h,nombres:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Ejemplo: Juan Carlos"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellidos Completos *"}),(0,s.jsx)("input",{type:"text",value:h.apellidos,onChange:e=>g({...h,apellidos:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Ejemplo: P\xe9rez Gonz\xe1lez"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Usuario"}),(0,s.jsx)("input",{type:"text",value:h.username,onChange:e=>g({...h,username:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Se generar\xe1 autom\xe1ticamente si se deja vac\xedo"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xfamero de C\xe9dula *"}),(0,s.jsx)("input",{type:"text",value:h.cedula,onChange:e=>g({...h,cedula:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Ejemplo: 1234567890"}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Este n\xfamero ser\xe1 su contrase\xf1a para acceder al sistema"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Usuario *"}),(0,s.jsxs)("select",{value:h.rol,onChange:e=>g({...h,rol:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900",children:[(0,s.jsx)("option",{value:"Asistente",children:"Asistente"}),(0,s.jsx)("option",{value:"Secretaria",children:"Secretaria"}),(0,s.jsx)("option",{value:"Administrador",children:"Administrador"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsxs)("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:[(0,s.jsx)(M.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Cancelar"})]}),(0,s.jsxs)("button",{onClick:c?()=>{c&&(i(a.map(e=>e.id===c.id?{...e,...h}:e)),x(null),g({nombres:"",apellidos:"",username:"",cedula:"",rol:"Asistente"}))}:()=>{i([...a,{id:Date.now().toString(),nombres:h.nombres,apellidos:h.apellidos,username:h.username||p(h.nombres,h.apellidos),cedula:h.cedula,rol:h.rol,isActive:!0,createdAt:new Date}]),o(!1),g({nombres:"",apellidos:"",username:"",cedula:"",rol:"Asistente"})},disabled:!h.nombres||!h.apellidos||!h.cedula,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(V.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:c?"Guardar Cambios":"Registrar Usuario"})]})]})]})})})]})}),(0,s.jsx)(T,{})]})}var L=a(67624),F=a(85904);let G=[{id:"1",institucionEducativa:"Unidad Educativa Nacional Quito",nombreCompleto:"Mar\xeda Elena Gonz\xe1lez P\xe9rez",telefono:"0998765432",direccion:"Av. 10 de Agosto N24-15 y Cordero, Quito",routeId:"1",routeName:"NORTE",isActive:!0,createdAt:new Date("2024-01-15")},{id:"2",institucionEducativa:"Colegio San Gabriel",nombreCompleto:"Carlos Roberto Mart\xednez L\xf3pez",telefono:"0987654321",direccion:"Calle Venezuela N8-45 y Chile, Quito",routeId:"2",routeName:"CENTRO",isActive:!0,createdAt:new Date("2024-01-20")},{id:"3",institucionEducativa:"Escuela Fiscal Sucre",nombreCompleto:"Ana Patricia Rodr\xedguez Torres",telefono:"0976543210",direccion:"Av. Amazonas N32-86 y Mariana de Jes\xfas, Quito",routeId:"3",routeName:"CARAPUNGO",isActive:!0,createdAt:new Date("2024-02-01")},{id:"4",institucionEducativa:"Instituto Tecnol\xf3gico Superior Central",nombreCompleto:"Luis Fernando Herrera V\xe1squez",telefono:"0965432109",direccion:"Av. 6 de Diciembre N26-145 y Col\xf3n, Quito",routeId:"6",routeName:"CUMBAYA",isActive:!0,createdAt:new Date("2024-02-05")},{id:"5",institucionEducativa:"Colegio Particular La Salle",nombreCompleto:"Carmen Isabel Flores Morales",telefono:"0954321098",direccion:"Calle Garc\xeda Moreno S1-47 y Sucre, Quito",routeId:"4",routeName:"OFELIA",isActive:!1,createdAt:new Date("2024-02-10")},{id:"6",institucionEducativa:"Universidad Central del Ecuador",nombreCompleto:"Roberto Miguel Castillo N\xfa\xf1ez",telefono:"0943210987",direccion:"Av. Am\xe9rica y Universitaria, Ciudad Universitaria, Quito",routeId:"5",routeName:"MDM",isActive:!0,createdAt:new Date("2024-02-15")},{id:"7",institucionEducativa:"Escuela de Educaci\xf3n B\xe1sica Manuela Ca\xf1izares",nombreCompleto:"Patricia Alejandra Ram\xedrez Silva",telefono:"0932109876",direccion:"Calle Cuenca N4-23 y Mideros, Quito",routeId:"7",routeName:"SUR",isActive:!0,createdAt:new Date("2024-02-20")},{id:"8",institucionEducativa:"Colegio Nacional Mej\xeda",nombreCompleto:"Fernando Jos\xe9 Aguirre Moreno",telefono:"0921098765",direccion:"Av. Mariscal Sucre y Antisana, Quito",routeId:"8",routeName:"AUX. SUR",isActive:!0,createdAt:new Date("2024-02-25")}],O=[{id:"1",identificador:"R1",nombre:"NORTE",isActive:!0,createdAt:new Date("2024-01-15")},{id:"2",identificador:"R2",nombre:"CENTRO",isActive:!0,createdAt:new Date("2024-01-15")},{id:"3",identificador:"R3",nombre:"CARAPUNGO",isActive:!0,createdAt:new Date("2024-01-15")},{id:"4",identificador:"R4",nombre:"OFELIA",isActive:!0,createdAt:new Date("2024-01-15")},{id:"5",identificador:"R5",nombre:"MDM",isActive:!0,createdAt:new Date("2024-01-15")},{id:"6",identificador:"R6",nombre:"CUMBAYA",isActive:!0,createdAt:new Date("2024-01-15")},{id:"7",identificador:"R7",nombre:"SUR",isActive:!0,createdAt:new Date("2024-01-15")},{id:"8",identificador:"R8",nombre:"AUX. SUR",isActive:!0,createdAt:new Date("2024-01-15")},{id:"9",identificador:"R9",nombre:"GASCA",isActive:!0,createdAt:new Date("2024-01-15")},{id:"10",identificador:"R10",nombre:"QUINCHE",isActive:!0,createdAt:new Date("2024-01-15")},{id:"11",identificador:"R11",nombre:"PAGINA",isActive:!0,createdAt:new Date("2024-01-15")}];function q(e){let{onBack:t}=e,[a,i]=(0,r.useState)(G),[l,n]=(0,r.useState)(""),[d,o]=(0,r.useState)(!1),[c,x]=(0,r.useState)(null),[m,u]=(0,r.useState)({institucionEducativa:"",nombreCompleto:"",telefono:"",direccion:"",routeId:""}),h=e=>{confirm("\xbfEst\xe1 seguro de que desea eliminar este cliente? Esta acci\xf3n no se puede deshacer.")&&i(a.filter(t=>t.id!==e))},g=e=>{i(a.map(t=>t.id===e?{...t,isActive:!t.isActive}:t))},p=a.filter(e=>{var t;return e.institucionEducativa.toLowerCase().includes(l.toLowerCase())||e.nombreCompleto.toLowerCase().includes(l.toLowerCase())||e.telefono.includes(l)||e.direccion.toLowerCase().includes(l.toLowerCase())||e.routeName&&e.routeName.toLowerCase().includes(l.toLowerCase())||e.routeId&&(null===(t=O.find(t=>t.id===e.routeId))||void 0===t?void 0:t.identificador.toLowerCase().includes(l.toLowerCase()))}),j=e=>{x(e),u({institucionEducativa:e.institucionEducativa,nombreCompleto:e.nombreCompleto,telefono:e.telefono,direccion:e.direccion,routeId:e.routeId||""})},b=()=>{o(!1),x(null),u({institucionEducativa:"",nombreCompleto:"",telefono:"",direccion:"",routeId:""})};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-white rounded-lg transition-colors",children:(0,s.jsx)(S.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(L.Z,{className:"h-8 w-8 text-orange-500"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesti\xf3n de clientes educativos"})]})]}),(0,s.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:[(0,s.jsx)(R.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Agregar nuevo cliente"})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(E.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar por instituci\xf3n, nombre, tel\xe9fono, direcci\xf3n o ruta...",value:l,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instituci\xf3n educativa"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tel\xe9fono"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Direcci\xf3n"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ruta"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado actual"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opciones disponibles"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(e=>{var t;return(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,s.jsx)(L.Z,{className:"h-5 w-5 text-blue-600"})})}),(0,s.jsx)("div",{className:"ml-4",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.institucionEducativa})})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.nombreCompleto}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(F.Z,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{children:e.telefono})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",title:e.direccion,children:e.direccion})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.routeName?(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 text-orange-400"}),(0,s.jsx)("span",{className:"font-medium text-orange-600",children:e.routeName}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["(",null===(t=O.find(t=>t.id===e.routeId))||void 0===t?void 0:t.identificador,")"]})]}):(0,s.jsx)("span",{className:"text-gray-400 text-xs",children:"Sin asignar"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Cliente activo":"Cliente inactivo"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:()=>g(e.id),className:"text-gray-400 hover:text-gray-600 p-1 rounded",title:e.isActive?"Desactivar cliente":"Activar cliente",children:e.isActive?(0,s.jsx)(I.Z,{className:"h-4 w-4"}):(0,s.jsx)(v.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>j(e),className:"text-blue-600 hover:text-blue-900 px-3 py-1 rounded text-xs font-medium border border-blue-200 hover:bg-blue-50",title:"Editar informaci\xf3n del cliente",children:"Editar"}),(0,s.jsx)("button",{onClick:()=>h(e.id),className:"text-red-600 hover:text-red-900 px-3 py-1 rounded text-xs font-medium border border-red-200 hover:bg-red-50",title:"Eliminar cliente",children:"Eliminar"})]})})]},e.id)})})]})})}),(d||c)&&(0,s.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm overflow-y-auto h-full w-full z-50",onClick:e=>{e.target===e.currentTarget&&b()},children:(0,s.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-[500px] shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:c?"Modificar informaci\xf3n del cliente educativo":"Registrar nuevo cliente educativo"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la instituci\xf3n educativa *"}),(0,s.jsx)("input",{type:"text",value:m.institucionEducativa,onChange:e=>u({...m,institucionEducativa:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Ejemplo: Unidad Educativa Nacional Quito"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre y apellido del contacto *"}),(0,s.jsx)("input",{type:"text",value:m.nombreCompleto,onChange:e=>u({...m,nombreCompleto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Ejemplo: Mar\xeda Elena Gonz\xe1lez P\xe9rez"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono de contacto *"}),(0,s.jsx)("input",{type:"tel",value:m.telefono,onChange:e=>u({...m,telefono:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Ejemplo: 0998765432"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direcci\xf3n de la instituci\xf3n *"}),(0,s.jsx)("textarea",{value:m.direccion,onChange:e=>u({...m,direccion:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Ejemplo: Av. 10 de Agosto N24-15 y Cordero, Quito"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ruta asignada"}),(0,s.jsxs)("select",{value:m.routeId,onChange:e=>u({...m,routeId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900",children:[(0,s.jsx)("option",{value:"",children:"Seleccionar una ruta"}),O.filter(e=>e.isActive).map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.identificador," - ",e.nombre]},e.id))]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsxs)("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:[(0,s.jsx)(M.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Cancelar"})]}),(0,s.jsxs)("button",{onClick:c?()=>{if(!c)return;let e=O.find(e=>e.id===m.routeId);i(a.map(t=>t.id===c.id?{...t,...m,routeId:m.routeId||void 0,routeName:null==e?void 0:e.nombre}:t)),x(null),u({institucionEducativa:"",nombreCompleto:"",telefono:"",direccion:"",routeId:""})}:()=>{let e=O.find(e=>e.id===m.routeId);i([...a,{id:Date.now().toString(),institucionEducativa:m.institucionEducativa,nombreCompleto:m.nombreCompleto,telefono:m.telefono,direccion:m.direccion,routeId:m.routeId||void 0,routeName:null==e?void 0:e.nombre,isActive:!0,createdAt:new Date}]),o(!1),u({institucionEducativa:"",nombreCompleto:"",telefono:"",direccion:""})},disabled:!m.institucionEducativa.trim()||!m.nombreCompleto.trim()||!m.telefono.trim()||!m.direccion.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(V.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:c?"Guardar cambios":"Registrar cliente"})]})]})]})})}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de clientes"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),(0,s.jsx)(L.Z,{className:"h-8 w-8 text-blue-500"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Clientes activos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:a.filter(e=>e.isActive).length})]}),(0,s.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Clientes inactivos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600",children:a.filter(e=>!e.isActive).length})]}),(0,s.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Con ruta asignada"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:a.filter(e=>e.routeId).length})]}),(0,s.jsx)(f.Z,{className:"h-8 w-8 text-orange-500"})]})})]})]})}),(0,s.jsx)(T,{})]})}function Q(e){let{onBack:t}=e,[a,i]=(0,r.useState)(O),[l,n]=(0,r.useState)(""),[d,o]=(0,r.useState)(!1),[c,x]=(0,r.useState)(null),[m,u]=(0,r.useState)({nombre:""}),h=()=>{let e=a.map(e=>parseInt(e.identificador.replace("R",""))).filter(e=>!isNaN(e));return"R".concat(Math.max(...e,0)+1)},g=e=>{confirm("\xbfEst\xe1 seguro de que desea eliminar esta ruta? Esta acci\xf3n no se puede deshacer.")&&i(a.filter(t=>t.id!==e))},p=e=>{i(a.map(t=>t.id===e?{...t,isActive:!t.isActive}:t))},j=a.filter(e=>e.nombre.toLowerCase().includes(l.toLowerCase())||e.identificador.toLowerCase().includes(l.toLowerCase())),b=e=>{x(e),u({nombre:e.nombre})},y=()=>{o(!1),x(null),u({nombre:""})};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-white rounded-lg transition-colors",children:(0,s.jsx)(S.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(f.Z,{className:"h-8 w-8 text-orange-500"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesti\xf3n de rutas"})]})]}),(0,s.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:[(0,s.jsx)(R.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Agregar nueva ruta"})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(E.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar por nombre o identificador de ruta...",value:l,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Identificador"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre de la ruta"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado actual"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha de registro"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opciones disponibles"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:(0,s.jsx)(f.Z,{className:"h-5 w-5 text-orange-600"})})}),(0,s.jsx)("div",{className:"ml-4",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.identificador})})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.nombre}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Ruta activa":"Ruta inactiva"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.createdAt.toLocaleDateString("es-ES")}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:()=>p(e.id),className:"text-gray-400 hover:text-gray-600 p-1 rounded",title:e.isActive?"Desactivar ruta":"Activar ruta",children:e.isActive?(0,s.jsx)(I.Z,{className:"h-4 w-4"}):(0,s.jsx)(v.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>b(e),className:"text-blue-600 hover:text-blue-900 px-3 py-1 rounded text-xs font-medium border border-blue-200 hover:bg-blue-50",title:"Editar informaci\xf3n de la ruta",children:"Editar"}),(0,s.jsx)("button",{onClick:()=>g(e.id),className:"text-red-600 hover:text-red-900 px-3 py-1 rounded text-xs font-medium border border-red-200 hover:bg-red-50",title:"Eliminar ruta",children:"Eliminar"})]})})]},e.id))})]})})}),(d||c)&&(0,s.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm overflow-y-auto h-full w-full z-50",onClick:e=>{e.target===e.currentTarget&&y()},children:(0,s.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:c?"Modificar informaci\xf3n de la ruta":"Registrar nueva ruta"}),(0,s.jsxs)("div",{className:"space-y-4",children:[!c&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Identificador de la ruta"}),(0,s.jsx)("input",{type:"text",value:h(),disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Se genera autom\xe1ticamente de forma secuencial"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la ruta *"}),(0,s.jsx)("input",{type:"text",value:m.nombre,onChange:e=>u({...m,nombre:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Ejemplo: CENTRO NORTE"}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"El nombre se convertir\xe1 autom\xe1ticamente a may\xfasculas"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsxs)("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:[(0,s.jsx)(M.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Cancelar"})]}),(0,s.jsxs)("button",{onClick:c?()=>{c&&(i(a.map(e=>e.id===c.id?{...e,nombre:m.nombre.toUpperCase()}:e)),x(null),u({nombre:""}))}:()=>{i([...a,{id:Date.now().toString(),identificador:h(),nombre:m.nombre.toUpperCase(),isActive:!0,createdAt:new Date}]),o(!1),u({nombre:""})},disabled:!m.nombre.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(V.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:c?"Guardar cambios":"Registrar ruta"})]})]})]})})}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de rutas"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),(0,s.jsx)(f.Z,{className:"h-8 w-8 text-orange-500"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rutas activas"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:a.filter(e=>e.isActive).length})]}),(0,s.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rutas inactivas"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600",children:a.filter(e=>!e.isActive).length})]}),(0,s.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"})})]})})]})]})}),(0,s.jsx)(T,{})]})}var B=a(37211);let U=[{id:"1",name:"Donut Chocolate",category:"Donut",variant:"choco",priceRegular:.4,pricePage:.5,description:"Donut cubierto con chocolate",isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Donut Chocolate con Grajeas",category:"Donut",variant:"choco grajeas",priceRegular:.4,pricePage:.5,description:"Donut cubierto con chocolate y grajeas de colores",isActive:!0,createdAt:new Date("2024-01-01")},{id:"3",name:"Donut Chocolate Coco",category:"Donut",variant:"choco coco",priceRegular:.4,pricePage:.5,description:"Donut cubierto con chocolate y coco rallado",isActive:!0,createdAt:new Date("2024-01-01")},{id:"4",name:"Donut Glaseado",category:"Donut",variant:"glase",priceRegular:.4,pricePage:.5,description:"Donut con glaseado dulce",isActive:!0,createdAt:new Date("2024-01-01")},{id:"5",name:"Donut Glaseado con Grajeas",category:"Donut",variant:"glase grajeas",priceRegular:.4,pricePage:.5,description:"Donut glaseado con grajeas de colores",isActive:!0,createdAt:new Date("2024-01-01")},{id:"6",name:"Donut Glaseado Coco",category:"Donut",variant:"glase coco",priceRegular:.4,pricePage:.5,description:"Donut glaseado con coco rallado",isActive:!0,createdAt:new Date("2024-01-01")},{id:"7",name:"Dona Rellena Chantilly",category:"Rellenas",variant:"chantilly",priceRegular:.4,pricePage:.5,description:"Dona rellena con crema chantilly",isActive:!0,createdAt:new Date("2024-01-01")},{id:"8",name:"Dona Rellena Manjar",category:"Rellenas",variant:"manjar",priceRegular:.4,pricePage:.5,description:"Dona rellena con manjar dulce",isActive:!0,createdAt:new Date("2024-01-01")},{id:"9",name:"Mini Donut Chocolate",category:"Mini donut",variant:"choco",priceRegular:.2,pricePage:.25,description:"Mini donut cubierto con chocolate",isActive:!0,createdAt:new Date("2024-01-01")},{id:"10",name:"Mini Donut Chocolate Grajeas",category:"Mini donut",variant:"choco grajeas",priceRegular:.2,pricePage:.25,description:"Mini donut con chocolate y grajeas",isActive:!0,createdAt:new Date("2024-01-01")},{id:"11",name:"Mini Donut Chocolate Coco",category:"Mini donut",variant:"choco coco",priceRegular:.2,pricePage:.25,description:"Mini donut con chocolate y coco",isActive:!0,createdAt:new Date("2024-01-01")},{id:"12",name:"Mini Donut Glaseado",category:"Mini donut",variant:"glase",priceRegular:.2,pricePage:.25,description:"Mini donut glaseado",isActive:!0,createdAt:new Date("2024-01-01")},{id:"13",name:"Mini Donut Glase Grajeas",category:"Mini donut",variant:"glase grajeas",priceRegular:.2,pricePage:.25,description:"Mini donut glaseado con grajeas",isActive:!0,createdAt:new Date("2024-01-01")},{id:"14",name:"Mini Donut Glase Coco",category:"Mini donut",variant:"glase coco",priceRegular:.2,pricePage:.25,description:"Mini donut glaseado con coco",isActive:!0,createdAt:new Date("2024-01-01")},{id:"15",name:"Mini Rellena Chantilly",category:"Mini rellenas",variant:"chantilly",priceRegular:.2,pricePage:.25,description:"Mini dona rellena con chantilly",isActive:!0,createdAt:new Date("2024-01-01")},{id:"16",name:"Mini Rellena Manjar",category:"Mini rellenas",variant:"manjar",priceRegular:.2,pricePage:.25,description:"Mini dona rellena con manjar",isActive:!0,createdAt:new Date("2024-01-01")},{id:"17",name:"Orejas",category:"Orejas",variant:"orejas",priceRegular:.5,description:"Masa hojaldrada en forma de oreja",isActive:!0,createdAt:new Date("2024-01-01")},{id:"18",name:"Mini Orejas",category:"Orejas",variant:"mini orejas",priceRegular:.25,description:"Versi\xf3n mini de las orejas - POR VERIFICAR",isActive:!0,createdAt:new Date("2024-01-01")},{id:"19",name:"Pizza Cuadrada",category:"Pizzas",variant:"cuadrada",priceRegular:.7,description:"Pizza de forma cuadrada",isActive:!0,createdAt:new Date("2024-01-01")},{id:"20",name:"Pizza Redonda",category:"Pizzas",variant:"redonda",priceRegular:.7,description:"Pizza de forma redonda",isActive:!0,createdAt:new Date("2024-01-01")},{id:"21",name:"Mini Pizza",category:"Pizzas",variant:"mini",priceRegular:.55,description:"Pizza en tama\xf1o mini",isActive:!0,createdAt:new Date("2024-01-01")},{id:"22",name:"Pan Chocolate",category:"Pan choco",variant:"panes",priceRegular:.35,description:"Pan relleno de chocolate",isActive:!0,createdAt:new Date("2024-01-01")},{id:"23",name:"Mini Pan Chocolate",category:"Pan choco",variant:"mini panes",priceRegular:.2,description:"Versi\xf3n mini del pan de chocolate",isActive:!0,createdAt:new Date("2024-01-01")},{id:"24",name:"Melvas",category:"Melvas",variant:"melvas",priceRegular:.35,description:"Dulce tradicional melvas",isActive:!0,createdAt:new Date("2024-01-01")},{id:"25",name:"Mini Melvas",category:"Melvas",variant:"mini melvas",priceRegular:.25,description:"Versi\xf3n mini de las melvas",isActive:!0,createdAt:new Date("2024-01-01")},{id:"26",name:"Muffin Normal",category:"Muffins",variant:"normales",priceRegular:.25,description:"Muffin tradicional",isActive:!0,createdAt:new Date("2024-01-01")},{id:"27",name:"Muffin Manjar",category:"Muffins",variant:"manjar",priceRegular:.3,description:"Muffin con manjar",isActive:!0,createdAt:new Date("2024-01-01")},{id:"28",name:"Pan Hamburguesa",category:"Panes",variant:"hamburguesa",priceRegular:.2,description:"Pan para hamburguesa",isActive:!0,createdAt:new Date("2024-01-01")},{id:"29",name:"Mini Pan Hamburguesa",category:"Panes",variant:"mini hamburguesa",priceRegular:.12,description:"Mini pan para hamburguesa",isActive:!0,createdAt:new Date("2024-01-01")},{id:"30",name:"Pan Hot Dog",category:"Panes",variant:"hot dog",priceRegular:.2,description:"Pan para hot dog",isActive:!0,createdAt:new Date("2024-01-01")},{id:"31",name:"Mini Pan Hot Dog",category:"Panes",variant:"mini hot dog",priceRegular:.12,description:"Mini pan para hot dog",isActive:!0,createdAt:new Date("2024-01-01")},{id:"32",name:"Pan Gusano",category:"Panes",variant:"gusano",priceRegular:.2,description:"Pan en forma de gusano",isActive:!0,createdAt:new Date("2024-01-01")},{id:"33",name:"Mini Pan Gusano",category:"Panes",variant:"mini gusano",priceRegular:.12,description:"Mini pan en forma de gusano",isActive:!0,createdAt:new Date("2024-01-01")},{id:"34",name:"Pastel Chocolate Normal",category:"Pasteles chocolate",variant:"normales",priceRegular:5,description:"Pastel de chocolate tradicional",isActive:!0,createdAt:new Date("2024-01-01")},{id:"35",name:"Pastel Chocolate Grajeas",category:"Pasteles chocolate",variant:"choco grajeas",priceRegular:5,description:"Pastel de chocolate con grajeas",isActive:!0,createdAt:new Date("2024-01-01")},{id:"36",name:"Pastel Chocolate Sin Cortar",category:"Pasteles chocolate",variant:"sin cortar (s/c)",priceRegular:5,description:"Pastel de chocolate sin cortar",isActive:!0,createdAt:new Date("2024-01-01")},{id:"37",name:"Pastel Chocolate x12",category:"Pasteles chocolate",variant:"x12",priceRegular:5,description:"Pastel de chocolate para 12 porciones",isActive:!0,createdAt:new Date("2024-01-01")},{id:"38",name:"Pastel Chocolate x14",category:"Pasteles chocolate",variant:"x14",priceRegular:5,description:"Pastel de chocolate para 14 porciones",isActive:!0,createdAt:new Date("2024-01-01")},{id:"39",name:"Pastel Chocolate Decorado",category:"Pasteles chocolate",variant:"decorados",priceRegular:6,description:"Pastel de chocolate con decoraci\xf3n especial",isActive:!0,createdAt:new Date("2024-01-01")},{id:"40",name:"Pastel Naranja Normal",category:"Pasteles de naranja",variant:"normales",priceRegular:5,description:"Pastel de naranja tradicional",isActive:!0,createdAt:new Date("2024-01-01")},{id:"41",name:"Pastel Naranja Sin Cortar",category:"Pasteles de naranja",variant:"sin cortar (s/c)",priceRegular:5,description:"Pastel de naranja sin cortar",isActive:!0,createdAt:new Date("2024-01-01")},{id:"42",name:"Pastel Naranja x12",category:"Pasteles de naranja",variant:"x12",priceRegular:5,description:"Pastel de naranja para 12 porciones",isActive:!0,createdAt:new Date("2024-01-01")},{id:"43",name:"Pastel Naranja x14",category:"Pasteles de naranja",variant:"x14",priceRegular:5,description:"Pastel de naranja para 14 porciones",isActive:!0,createdAt:new Date("2024-01-01")},{id:"44",name:"Pastel Naranja Decorado",category:"Pasteles de naranja",variant:"decorados",priceRegular:6,description:"Pastel de naranja con decoraci\xf3n especial",isActive:!0,createdAt:new Date("2024-01-01")}],$=[{id:"1",orderNumber:"PED-001",clientName:"Mar\xeda Elena Gonz\xe1lez",clientPhone:"0998765432",clientCity:"Quito",clientAddress:"Av. 10 de Agosto N24-15 y Cordero",orderDate:new Date("2024-03-15T10:30:00"),paymentMethod:"Efectivo",routeId:"1",routeName:"NORTE",items:[{id:"1",productId:"1",productName:"Donut Chocolate",productCategory:"Donut",productVariant:"choco",quantity:12,unitPrice:.4,usePaginaPrice:!1,individualValue:4.8},{id:"2",productId:"7",productName:"Dona Rellena Chantilly",productCategory:"Rellenas",productVariant:"chantilly",quantity:6,unitPrice:.4,usePaginaPrice:!1,individualValue:2.4}],subtotal:7.2,totalAmount:7.2,status:"Pendiente",isActive:!0,createdAt:new Date("2024-03-15T10:30:00"),notes:"Entrega para las 2:00 PM"},{id:"2",orderNumber:"PED-002",clientName:"Carlos Roberto Mart\xednez",clientPhone:"0987654321",clientCity:"Quito",clientAddress:"Calle Venezuela N8-45 y Chile",orderDate:new Date("2024-03-15T14:15:00"),paymentMethod:"Transferencia",routeId:"2",routeName:"CENTRO",items:[{id:"3",productId:"34",productName:"Pastel Chocolate Normal",productCategory:"Pasteles chocolate",productVariant:"normales",quantity:1,unitPrice:5,usePaginaPrice:!1,individualValue:5},{id:"4",productId:"19",productName:"Pizza Cuadrada",productCategory:"Pizzas",productVariant:"cuadrada",quantity:4,unitPrice:.7,usePaginaPrice:!1,individualValue:2.8}],subtotal:7.8,totalAmount:7.8,status:"En preparaci\xf3n",isActive:!0,createdAt:new Date("2024-03-15T14:15:00")},{id:"3",orderNumber:"PED-003",clientName:"Ana Patricia Rodr\xedguez",clientPhone:"0976543210",clientCity:"Quito",clientAddress:"Av. Amazonas N32-86 y Mariana de Jes\xfas",orderDate:new Date("2024-03-16T09:00:00"),paymentMethod:"Tarjeta de cr\xe9dito",routeId:"3",routeName:"CARAPUNGO",items:[{id:"5",productId:"9",productName:"Mini Donut Chocolate",productCategory:"Mini donut",productVariant:"choco",quantity:24,unitPrice:.25,usePaginaPrice:!0,individualValue:6},{id:"6",productId:"26",productName:"Muffin Normal",productCategory:"Muffins",productVariant:"normales",quantity:8,unitPrice:.25,usePaginaPrice:!1,individualValue:2}],subtotal:8,totalAmount:8,status:"Listo",isActive:!0,createdAt:new Date("2024-03-16T09:00:00"),notes:"Cliente preferencial PAGINA"},{id:"4",orderNumber:"PED-004",clientName:"Luis Fernando Herrera",clientPhone:"0965432109",clientCity:"Quito",clientAddress:"Av. 6 de Diciembre N26-145 y Col\xf3n",orderDate:new Date("2024-03-16T11:30:00"),paymentMethod:"Efectivo",routeId:"6",routeName:"CUMBAYA",items:[{id:"7",productId:"28",productName:"Pan Hamburguesa",productCategory:"Panes",productVariant:"hamburguesa",quantity:20,unitPrice:.2,usePaginaPrice:!1,individualValue:4}],subtotal:4,totalAmount:4,status:"Entregado",isActive:!0,createdAt:new Date("2024-03-16T11:30:00")},{id:"5",orderNumber:"PED-005",clientName:"Carmen Isabel Flores Morales",clientPhone:"0954321098",clientCity:"Quito",clientAddress:"Calle Garc\xeda Moreno S1-47 y Sucre, Quito",orderDate:new Date("2024-03-17T09:15:00"),paymentMethod:"Transferencia",routeId:"4",routeName:"OFELIA",items:[{id:"8",productId:"1",productName:"Donut Chocolate",productCategory:"Donut",productVariant:"choco",quantity:15,unitPrice:.4,usePaginaPrice:!1,individualValue:6},{id:"9",productId:"9",productName:"Mini Donut Chocolate",productCategory:"Mini donut",productVariant:"choco",quantity:30,unitPrice:.25,usePaginaPrice:!0,individualValue:7.5}],subtotal:13.5,totalAmount:13.5,status:"Pendiente",isActive:!0,createdAt:new Date("2024-03-17T09:15:00"),notes:"Entrega para las 3:00 PM"},{id:"6",orderNumber:"PED-006",clientName:"Roberto Miguel Castillo N\xfa\xf1ez",clientPhone:"0943210987",clientCity:"Quito",clientAddress:"Av. Am\xe9rica y Universitaria, Ciudad Universitaria, Quito",orderDate:new Date("2024-03-17T14:20:00"),paymentMethod:"Tarjeta de d\xe9bito",routeId:"5",routeName:"MDM",items:[{id:"10",productId:"34",productName:"Pastel Chocolate Normal",productCategory:"Pasteles chocolate",productVariant:"normales",quantity:2,unitPrice:5,usePaginaPrice:!1,individualValue:10},{id:"11",productId:"26",productName:"Muffin Normal",productCategory:"Muffins",productVariant:"normales",quantity:12,unitPrice:.25,usePaginaPrice:!1,individualValue:3}],subtotal:13,totalAmount:13,status:"En preparaci\xf3n",isActive:!0,createdAt:new Date("2024-03-17T14:20:00")},{id:"7",orderNumber:"PED-007",clientName:"Patricia Alejandra Ram\xedrez Silva",clientPhone:"0932109876",clientCity:"Quito",clientAddress:"Calle Cuenca N4-23 y Mideros, Quito",orderDate:new Date("2024-03-18T08:45:00"),paymentMethod:"Efectivo",routeId:"7",routeName:"SUR",items:[{id:"12",productId:"7",productName:"Dona Rellena Chantilly",productCategory:"Rellenas",productVariant:"chantilly",quantity:8,unitPrice:.4,usePaginaPrice:!1,individualValue:3.2},{id:"13",productId:"19",productName:"Pizza Cuadrada",productCategory:"Pizzas",productVariant:"cuadrada",quantity:6,unitPrice:.7,usePaginaPrice:!1,individualValue:4.2}],subtotal:7.4,totalAmount:7.4,status:"Listo",isActive:!0,createdAt:new Date("2024-03-18T08:45:00")},{id:"8",orderNumber:"PED-008",clientName:"Fernando Jos\xe9 Aguirre Moreno",clientPhone:"0921098765",clientCity:"Quito",clientAddress:"Av. Mariscal Sucre y Antisana, Quito",orderDate:new Date("2024-03-18T12:30:00"),paymentMethod:"Cheque",routeId:"8",routeName:"AUX. SUR",items:[{id:"14",productId:"1",productName:"Donut Chocolate",productCategory:"Donut",productVariant:"choco",quantity:25,unitPrice:.4,usePaginaPrice:!1,individualValue:10},{id:"15",productId:"28",productName:"Pan Hamburguesa",productCategory:"Panes",productVariant:"hamburguesa",quantity:15,unitPrice:.2,usePaginaPrice:!1,individualValue:3}],subtotal:13,totalAmount:13,status:"Pendiente",isActive:!0,createdAt:new Date("2024-03-18T12:30:00")},{id:"9",orderNumber:"PED-009",clientName:"Mar\xeda Elena Gonz\xe1lez P\xe9rez",clientPhone:"0998765432",clientCity:"Quito",clientAddress:"Av. 10 de Agosto N24-15 y Cordero, Quito",orderDate:new Date("2024-03-19T10:00:00"),paymentMethod:"Efectivo",routeId:"1",routeName:"NORTE",items:[{id:"16",productId:"9",productName:"Mini Donut Chocolate",productCategory:"Mini donut",productVariant:"choco",quantity:50,unitPrice:.25,usePaginaPrice:!0,individualValue:12.5},{id:"17",productId:"26",productName:"Muffin Normal",productCategory:"Muffins",productVariant:"normales",quantity:20,unitPrice:.25,usePaginaPrice:!1,individualValue:5}],subtotal:17.5,totalAmount:17.5,status:"En preparaci\xf3n",isActive:!0,createdAt:new Date("2024-03-19T10:00:00"),notes:"Cliente preferencial PAGINA"},{id:"10",orderNumber:"PED-010",clientName:"Carlos Roberto Mart\xednez L\xf3pez",clientPhone:"0987654321",clientCity:"Quito",clientAddress:"Calle Venezuela N8-45 y Chile, Quito",orderDate:new Date("2024-03-19T15:45:00"),paymentMethod:"Transferencia",routeId:"2",routeName:"CENTRO",items:[{id:"18",productId:"34",productName:"Pastel Chocolate Normal",productCategory:"Pasteles chocolate",productVariant:"normales",quantity:1,unitPrice:5,usePaginaPrice:!1,individualValue:5},{id:"19",productId:"7",productName:"Dona Rellena Chantilly",productCategory:"Rellenas",productVariant:"chantilly",quantity:10,unitPrice:.4,usePaginaPrice:!1,individualValue:4},{id:"20",productId:"19",productName:"Pizza Cuadrada",productCategory:"Pizzas",productVariant:"cuadrada",quantity:8,unitPrice:.7,usePaginaPrice:!1,individualValue:5.6}],subtotal:14.6,totalAmount:14.6,status:"Listo",isActive:!0,createdAt:new Date("2024-03-19T15:45:00")}];function K(e){let{onBack:t}=e,[i,l]=(0,r.useState)(U),[n,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[g,p]=(0,r.useState)(null),[j,b]=(0,r.useState)("Todos"),[N,f]=(0,r.useState)({name:"",category:"Donut",variant:"choco",priceRegular:0,pricePage:void 0,description:""}),w=["Donut","Rellenas","Mini donut","Mini rellenas","Orejas","Pizzas","Pan choco","Melvas","Muffins","Panes","Pasteles chocolate","Pasteles de naranja"],C=e=>{switch(e){case"Donut":case"Mini donut":return["choco","choco grajeas","choco coco","glase","glase grajeas","glase coco"];case"Rellenas":case"Mini rellenas":return["chantilly","manjar"];case"Orejas":return["orejas","mini orejas"];case"Pizzas":return["cuadrada","redonda","mini"];case"Pan choco":return["panes","mini panes"];case"Melvas":return["melvas","mini melvas"];case"Muffins":return["normales","manjar"];case"Panes":return["hamburguesa","mini hamburguesa","hot dog","mini hot dog","gusano","mini gusano"];case"Pasteles chocolate":case"Pasteles de naranja":return["normales","choco grajeas","sin cortar (s/c)","x12","x14","decorados"];default:return["normales"]}},P=e=>{confirm("\xbfEst\xe1 seguro de que desea eliminar este producto? Esta acci\xf3n no se puede deshacer.")&&l(i.filter(t=>t.id!==e))},D=e=>{l(i.map(t=>t.id===e?{...t,isActive:!t.isActive}:t))},k=i.filter(e=>{let t=e.name.toLowerCase().includes(n.toLowerCase())||e.category.toLowerCase().includes(n.toLowerCase())||e.variant.toLowerCase().includes(n.toLowerCase()),a="Todos"===j||e.category===j;return t&&a}),z=e=>{p(e),f({name:e.name,category:e.category,variant:e.variant,priceRegular:e.priceRegular,pricePage:e.pricePage,description:e.description||""})},Z=()=>{f({name:"",category:"Donut",variant:"choco",priceRegular:0,pricePage:void 0,description:""})},L=()=>{c(!1),p(null),Z()},F=e=>{e.target===e.currentTarget&&L()},G=e=>e?"$".concat(e.toFixed(2)):"N/A",O=e=>(0,s.jsx)(y.Z,{className:"h-5 w-5 text-orange-600"}),q=async()=>{if(u)try{let e=(await Promise.all([a.e(505),a.e(112)]).then(a.bind(a,92493))).default,t=(await a.e(337).then(a.t.bind(a,52874,23))).default,s=document.getElementById("product-export-content");if(!s)return;let r=await t(s,{scale:2,useCORS:!0,backgroundColor:"#ffffff"}),l=r.toDataURL("image/png"),n=new e("p","mm","a4"),d=210*r.height/r.width,o=d,c=0;for(n.addImage(l,"PNG",0,c,210,d),o-=295;o>=0;)c=o-d,n.addPage(),n.addImage(l,"PNG",0,c,210,d),o-=295;let x=i.find(e=>e.id===u),m=x?"".concat(x.name,"-").concat(x.category,"-").concat(x.variant):"producto";n.save("Reporte-Pedidos-".concat(m,"-").concat(new Date().toLocaleDateString("es-ES").replace(/\//g,"-"),".pdf"))}catch(e){console.error("Error generando PDF de exportaci\xf3n por producto:",e),alert("Error al generar el PDF de exportaci\xf3n. Por favor, int\xe9ntalo de nuevo.")}},Q=e=>{let t=i.find(t=>t.id===e);return t?$.filter(e=>e.items.some(e=>e.productName===t.name&&e.productCategory===t.category&&e.productVariant===t.variant)):[]};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-white rounded-lg transition-colors",children:(0,s.jsx)(S.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(y.Z,{className:"h-8 w-8 text-orange-500"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesti\xf3n de productos"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:[(0,s.jsx)(R.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Agregar nuevo producto"})]}),(0,s.jsxs)("button",{onClick:()=>{m(!0)},className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[(0,s.jsx)(A.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Exportar por producto"})]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(E.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar por nombre, categor\xeda o variante...",value:n,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600"})]})}),(0,s.jsx)("div",{className:"md:w-64",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(B.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsxs)("select",{value:j,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900",children:[(0,s.jsx)("option",{value:"Todos",children:"Todas las categor\xedas"}),w.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categor\xeda"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variante"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio regular"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio PAGINA"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opciones"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:O(e.category)})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.category})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.variant}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(A.Z,{className:"h-4 w-4 text-green-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:G(e.priceRegular)})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(A.Z,{className:"h-4 w-4 text-orange-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:G(e.pricePage)})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Disponible":"No disponible"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:()=>D(e.id),className:"text-gray-400 hover:text-gray-600 p-1 rounded",title:e.isActive?"Marcar como no disponible":"Marcar como disponible",children:e.isActive?(0,s.jsx)(I.Z,{className:"h-4 w-4"}):(0,s.jsx)(v.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>z(e),className:"text-blue-600 hover:text-blue-900 px-3 py-1 rounded text-xs font-medium border border-blue-200 hover:bg-blue-50",title:"Editar producto",children:"Editar"}),(0,s.jsx)("button",{onClick:()=>P(e.id),className:"text-red-600 hover:text-red-900 px-3 py-1 rounded text-xs font-medium border border-red-200 hover:bg-red-50",title:"Eliminar producto",children:"Eliminar"})]})})]},e.id))})]})})}),(o||g)&&(0,s.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm overflow-y-auto h-full w-full z-50",onClick:F,children:(0,s.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-[600px] shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g?"Modificar producto":"Registrar nuevo producto"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del producto *"}),(0,s.jsx)("input",{type:"text",value:N.name,onChange:e=>f({...N,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Ejemplo: Donut Chocolate"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categor\xeda *"}),(0,s.jsx)("select",{value:N.category,onChange:e=>{let t=e.target.value,a=C(t);f({...N,category:t,variant:a[0]})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900",children:w.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variante *"}),(0,s.jsx)("select",{value:N.variant,onChange:e=>f({...N,variant:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900",children:C(N.category).map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio regular *"}),(0,s.jsx)("input",{type:"number",step:"0.01",min:"0",value:N.priceRegular,onChange:e=>f({...N,priceRegular:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"0.00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio PAGINA"}),(0,s.jsx)("input",{type:"number",step:"0.01",min:"0",value:N.pricePage||"",onChange:e=>f({...N,pricePage:e.target.value?parseFloat(e.target.value):void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"0.00 (opcional)"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),(0,s.jsx)("textarea",{value:N.description,onChange:e=>f({...N,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-600",placeholder:"Descripci\xf3n opcional del producto"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsxs)("button",{onClick:L,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:[(0,s.jsx)(M.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Cancelar"})]}),(0,s.jsxs)("button",{onClick:g?()=>{g&&(l(i.map(e=>e.id===g.id?{...e,...N}:e)),p(null),Z())}:()=>{l([...i,{id:Date.now().toString(),name:N.name,category:N.category,variant:N.variant,priceRegular:N.priceRegular,pricePage:N.pricePage,description:N.description,isActive:!0,createdAt:new Date}]),c(!1),Z()},disabled:!N.name.trim()||N.priceRegular<=0,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(V.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:g?"Guardar cambios":"Registrar producto"})]})]})]})})}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total productos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:i.length})]}),(0,s.jsx)(y.Z,{className:"h-8 w-8 text-orange-500"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Productos disponibles"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:i.filter(e=>e.isActive).length})]}),(0,s.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Categor\xedas"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:w.length})]}),(0,s.jsx)(B.Z,{className:"h-8 w-8 text-blue-500"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Precio promedio"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",(i.reduce((e,t)=>e+t.priceRegular,0)/i.length).toFixed(2)]})]}),(0,s.jsx)(A.Z,{className:"h-8 w-8 text-purple-500"})]})})]})]})}),x&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:F,children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Exportar Pedidos por Producto"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("button",{onClick:q,disabled:!u,className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(A.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Generar PDF"})]}),(0,s.jsx)("button",{onClick:()=>m(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar"})]})]})}),(0,s.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Producto"}),(0,s.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,s.jsx)("option",{value:"",children:"Seleccionar un producto"}),i.filter(e=>e.isActive).map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," - ",e.category," - ",e.variant]},e.id))]})]}),u&&(0,s.jsx)("div",{id:"product-export-content",className:"p-6",children:(()=>{let e=i.find(e=>e.id===u),t=Q(u),a=t.reduce((t,a)=>t+a.items.reduce((t,a)=>a.productName===(null==e?void 0:e.name)&&a.productCategory===(null==e?void 0:e.category)&&a.productVariant===(null==e?void 0:e.variant)?t+a.quantity:t,0),0),r=t.reduce((t,a)=>t+a.items.reduce((t,a)=>a.productName===(null==e?void 0:e.name)&&a.productCategory===(null==e?void 0:e.category)&&a.productVariant===(null==e?void 0:e.variant)?t+a.individualValue:t,0),0);return e?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center border-b border-gray-200 pb-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Mega Donut"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Reporte de Pedidos por Producto"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Generado el ",new Date().toLocaleDateString("es-ES")," a las ",new Date().toLocaleTimeString("es-ES")]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Informaci\xf3n del Producto"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Nombre"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Categor\xeda"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.category})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Variante"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.variant})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Precio Regular"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:["$",e.priceRegular.toFixed(2)]})]}),e.pricePage&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Precio PAGINA"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-orange-600",children:["$",e.pricePage.toFixed(2)]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-blue-50 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Pedidos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:t.length})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Cantidad Total"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:a})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",r.toFixed(2)]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalle de Pedidos"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full border border-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-black font-semibold",children:"N\xfamero"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-black font-semibold",children:"Cliente"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-black font-semibold",children:"Fecha"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-black font-semibold",children:"Cantidad"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-right text-black font-semibold",children:"Precio Unit."}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-right text-black font-semibold",children:"Total"})]})}),(0,s.jsx)("tbody",{children:t.map((t,a)=>t.items.filter(t=>t.productName===e.name&&t.productCategory===e.category&&t.productVariant===e.variant).map((e,r)=>(0,s.jsxs)("tr",{className:a%2==0?"bg-white":"bg-gray-50",children:[(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-black",children:t.orderNumber}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-black",children:t.clientName}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-black",children:t.orderDate.toLocaleDateString("es-ES")}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center text-black",children:e.quantity}),(0,s.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-right text-black",children:["$",e.unitPrice.toFixed(2)]}),(0,s.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-right font-medium text-black",children:["$",e.individualValue.toFixed(2)]})]},"".concat(t.id,"-").concat(r))))}),(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("td",{colSpan:3,className:"border border-gray-300 px-3 py-2 text-right font-bold text-black",children:"TOTALES:"}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center font-bold text-black",children:a}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-right font-bold text-black",children:"-"}),(0,s.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-right font-bold text-lg text-black",children:["$",r.toFixed(2)]})]})})]})})]}),(0,s.jsx)("div",{className:"mt-8 pt-4 border-t border-gray-300",children:(0,s.jsxs)("p",{className:"text-center text-sm text-gray-800 font-medium",children:["Reporte generado para Mega Donut",(0,s.jsx)("br",{}),t.length," pedidos con ",e.name]})})]}):(0,s.jsx)("p",{className:"text-gray-500",children:"Producto no encontrado"})})()})]})}),(0,s.jsx)(T,{})]})}var H=a(63915),W=a(97307),J=a(4697),Y=a(50489);function _(e){let{onBack:t}=e,[i,l]=(0,r.useState)($),[n,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),[y,v]=(0,r.useState)(!1),[w,C]=(0,r.useState)(null),[P,D]=(0,r.useState)(null),k=(0,r.useRef)(null),I=(0,r.useRef)(null),z=(0,r.useRef)(null),[Z,L]=(0,r.useState)({clientName:"",clientPhone:"",clientCity:"",clientAddress:"",paymentMethod:"Efectivo",routeId:"",items:[],notes:""}),[F,q]=(0,r.useState)(""),[Q,B]=(0,r.useState)(""),[K,_]=(0,r.useState)(!1),[X,ee]=(0,r.useState)(!1),[et,ea]=(0,r.useState)([]),es=G.filter(e=>e.institucionEducativa.toLowerCase().includes(F.toLowerCase())||e.nombreCompleto.toLowerCase().includes(F.toLowerCase())||e.telefono.includes(F)).slice(0,5),er=U.filter(e=>e.isActive&&(e.name.toLowerCase().includes(Q.toLowerCase())||e.category.toLowerCase().includes(Q.toLowerCase())||e.variant.toLowerCase().includes(Q.toLowerCase()))).slice(0,10),ei=()=>{let e=i.sort((e,t)=>parseInt(t.orderNumber.split("-")[1])-parseInt(e.orderNumber.split("-")[1]))[0],t=e?parseInt(e.orderNumber.split("-")[1]):0;return"PED-".concat(String(t+1).padStart(3,"0"))},el=e=>{let t=e.reduce((e,t)=>e+t.individualValue,0);return{subtotal:t,totalAmount:t}},en=e=>{L({...Z,clientName:e.nombreCompleto,clientPhone:e.telefono,clientCity:"Quito",clientAddress:e.direccion}),q(e.nombreCompleto),_(!1)},ed=e=>{ea([...et,{id:Date.now().toString(),productId:e.id,productName:e.name,productCategory:e.category,productVariant:e.variant,quantity:1,unitPrice:e.priceRegular,usePaginaPrice:!1,individualValue:e.priceRegular}]),B(""),ee(!1)},eo=(e,t)=>{if(t<=0){ex(e);return}ea(et.map(a=>a.id===e?{...a,quantity:t,individualValue:t*a.unitPrice}:a))},ec=(e,t)=>{ea(et.map(a=>{if(a.id===e){let e=!a.usePaginaPrice,s=e&&t.pricePage?t.pricePage:t.priceRegular;return{...a,usePaginaPrice:e,unitPrice:s,individualValue:a.quantity*s}}return a}))},ex=e=>{ea(et.filter(t=>t.id!==e))},em=e=>{confirm("\xbfEst\xe1 seguro de que desea eliminar este pedido? Esta acci\xf3n no se puede deshacer.")&&l(i.filter(t=>t.id!==e))},eu=(e,t)=>{l(i.map(a=>a.id===e?{...a,status:t}:a))},eh=e=>{C(e),L({clientName:e.clientName,clientPhone:e.clientPhone,clientCity:e.clientCity,clientAddress:e.clientAddress,paymentMethod:e.paymentMethod,routeId:e.routeId||"",items:e.items.map(e=>({productId:e.productId,productName:e.productName,productCategory:e.productCategory,productVariant:e.productVariant,quantity:e.quantity,unitPrice:e.unitPrice,usePaginaPrice:e.usePaginaPrice})),notes:e.notes||""}),ea([...e.items]),q(e.clientName)},eg=()=>{L({clientName:"",clientPhone:"",clientCity:"",clientAddress:"",paymentMethod:"Efectivo",routeId:"",items:[],notes:""}),ea([]),q(""),B("")},ep=()=>{c(!1),C(null),eg()},ej=e=>{e.target===e.currentTarget&&ep()},eb=async e=>{D(e),m(!0)},ey=async()=>{if(P&&k.current)try{let e=(await Promise.all([a.e(505),a.e(112)]).then(a.bind(a,92493))).default,t=(await a.e(337).then(a.t.bind(a,52874,23))).default,s=await t(k.current,{scale:2,useCORS:!0,backgroundColor:"#ffffff"}),r=s.toDataURL("image/png"),i=new e("p","mm","a4"),l=210*s.height/s.width,n=l,d=0;for(i.addImage(r,"PNG",0,d,210,l),n-=295;n>=0;)d=n-l,i.addPage(),i.addImage(r,"PNG",0,d,210,l),n-=295;i.save("Pedido-".concat(P.orderNumber,".pdf"))}catch(e){console.error("Error generando PDF:",e),alert("Error al generar el PDF. Por favor, int\xe9ntalo de nuevo.")}},eN=async()=>{if(g&&I.current)try{let e=(await Promise.all([a.e(505),a.e(112)]).then(a.bind(a,92493))).default,t=(await a.e(337).then(a.t.bind(a,52874,23))).default,s=await t(I.current,{scale:2,useCORS:!0,backgroundColor:"#ffffff"}),r=s.toDataURL("image/png"),i=new e("p","mm","a4"),l=210*s.height/s.width,n=l,d=0;for(i.addImage(r,"PNG",0,d,210,l),n-=295;n>=0;)d=n-l,i.addPage(),i.addImage(r,"PNG",0,d,210,l),n-=295;let o=O.find(e=>e.id===g);i.save("Guia-Ruta-".concat(null==o?void 0:o.identificador,"-").concat(null==o?void 0:o.nombre,".pdf"))}catch(e){console.error("Error generando PDF de ruta:",e),alert("Error al generar el PDF de la ruta. Por favor, int\xe9ntalo de nuevo.")}},ev=()=>{if(!g)return{route:null,clients:[],orders:[],products:new Set};let e=O.find(e=>e.id===g),t=G.filter(e=>e.routeId===g),a=i.filter(e=>e.routeId===g),s=new Set;return a.forEach(e=>{e.items.forEach(e=>{s.add("".concat(e.productName," - ").concat(e.productCategory," - ").concat(e.productVariant))})}),{route:e,clients:t,orders:a,products:s}},ef=async()=>{if(z.current)try{var e;let t=(await Promise.all([a.e(505),a.e(112)]).then(a.bind(a,92493))).default,s=(await a.e(337).then(a.t.bind(a,52874,23))).default,r=await s(z.current,{scale:2,useCORS:!0,backgroundColor:"#ffffff"}),i=r.toDataURL("image/png"),l=new t("p","mm","a4"),n=210*r.height/r.width,d=n,o=0;for(l.addImage(i,"PNG",0,o,210,n),d-=295;d>=0;)o=d-n,l.addPage(),l.addImage(i,"PNG",0,o,210,n),d-=295;let c=j?"-Filtro-Ruta-".concat(null===(e=O.find(e=>e.id===j))||void 0===e?void 0:e.identificador):"";l.save("Reporte-Pedidos".concat(c,"-").concat(new Date().toLocaleDateString("es-ES").replace(/\//g,"-"),".pdf"))}catch(e){console.error("Error generando PDF de exportaci\xf3n:",e),alert("Error al generar el PDF de exportaci\xf3n. Por favor, int\xe9ntalo de nuevo.")}},ew=()=>{let e=i;return n&&(e=e.filter(e=>{var t;return e.orderNumber.toLowerCase().includes(n.toLowerCase())||e.clientName.toLowerCase().includes(n.toLowerCase())||e.clientPhone.includes(n)||e.status.toLowerCase().includes(n.toLowerCase())||e.routeName&&e.routeName.toLowerCase().includes(n.toLowerCase())||e.routeId&&(null===(t=O.find(t=>t.id===e.routeId))||void 0===t?void 0:t.identificador.toLowerCase().includes(n.toLowerCase()))})),j&&(e=e.filter(e=>e.routeId===j)),e},eC=i.filter(e=>{var t;let a=e.orderNumber.toLowerCase().includes(n.toLowerCase())||e.clientName.toLowerCase().includes(n.toLowerCase())||e.clientPhone.includes(n)||e.status.toLowerCase().includes(n.toLowerCase())||e.routeName&&e.routeName.toLowerCase().includes(n.toLowerCase())||e.routeId&&(null===(t=O.find(t=>t.id===e.routeId))||void 0===t?void 0:t.identificador.toLowerCase().includes(n.toLowerCase())),s=!j||e.routeId===j;return a&&s}),eP=e=>{switch(e){case"Pendiente":return"bg-yellow-100 text-yellow-800";case"En preparaci\xf3n":return"bg-blue-100 text-blue-800";case"Listo":return"bg-green-100 text-green-800";case"Entregado":default:return"bg-gray-100 text-gray-800";case"Cancelado":return"bg-red-100 text-red-800"}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-white rounded-lg transition-colors",children:(0,s.jsx)(S.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(N.Z,{className:"h-8 w-8 text-orange-500"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesti\xf3n de pedidos"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:[(0,s.jsx)(R.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Nuevo pedido"})]}),(0,s.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Gu\xedas de rutas"})]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(E.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar por n\xfamero de pedido, cliente, tel\xe9fono, estado o c\xf3digo de ruta...",value:n,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-700"})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("select",{value:j,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900",children:[(0,s.jsx)("option",{value:"",children:"Todas las rutas"}),O.filter(e=>e.isActive).map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.identificador," - ",e.nombre]},e.id))]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("button",{onClick:()=>{v(!0)},className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[(0,s.jsx)(H.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Exportar"})]}),(n||j)&&(0,s.jsxs)("button",{onClick:()=>{d(""),b("")},className:"flex items-center space-x-2 bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:[(0,s.jsx)(M.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Limpiar"})]})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"N\xfamero de pedido"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ruta"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opciones"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:eC.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:(0,s.jsx)(N.Z,{className:"h-5 w-5 text-orange-600"})})}),(0,s.jsx)("div",{className:"ml-4",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.orderNumber})})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.clientName}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.clientPhone})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-8 w-8",children:(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-yellow-100 flex items-center justify-center",children:(0,s.jsx)(f.Z,{className:"h-4 w-4 text-yellow-600"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.routeName||"Sin asignar"})})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.orderDate.toLocaleDateString("es-ES")}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("select",{value:e.status,onChange:t=>eu(e.id,t.target.value),className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border-none ".concat(eP(e.status)),children:[(0,s.jsx)("option",{value:"Pendiente",children:"Pendiente"}),(0,s.jsx)("option",{value:"En preparaci\xf3n",children:"En preparaci\xf3n"}),(0,s.jsx)("option",{value:"Listo",children:"Listo"}),(0,s.jsx)("option",{value:"Entregado",children:"Entregado"}),(0,s.jsx)("option",{value:"Cancelado",children:"Cancelado"})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(A.Z,{className:"h-4 w-4 text-green-600"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["$",e.totalAmount.toFixed(2)]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:()=>eb(e),className:"text-purple-600 hover:text-purple-900 p-1 rounded",title:"Imprimir pedido",children:(0,s.jsx)(H.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>eh(e),className:"text-blue-600 hover:text-blue-900 px-3 py-1 rounded text-xs font-medium border border-blue-200 hover:bg-blue-50",title:"Editar pedido",children:"Editar"}),(0,s.jsx)("button",{onClick:()=>em(e.id),className:"text-red-600 hover:text-red-900 px-3 py-1 rounded text-xs font-medium border border-red-200 hover:bg-red-50",title:"Eliminar pedido",children:"Eliminar"})]})})]},e.id))})]})})}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total pedidos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:i.length})]}),(0,s.jsx)(N.Z,{className:"h-8 w-8 text-orange-500"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pedidos pendientes"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:i.filter(e=>"Pendiente"===e.status).length})]}),(0,s.jsx)(W.Z,{className:"h-8 w-8 text-yellow-500"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pedidos entregados"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:i.filter(e=>"Entregado"===e.status).length})]}),(0,s.jsx)(J.Z,{className:"h-8 w-8 text-green-500"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ventas totales"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",i.filter(e=>"Entregado"===e.status).reduce((e,t)=>e+t.totalAmount,0).toFixed(2)]})]}),(0,s.jsx)(A.Z,{className:"h-8 w-8 text-purple-500"})]})})]})]})}),(o||w)&&(0,s.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm overflow-y-auto h-full w-full z-50",onClick:ej,children:(0,s.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-[900px] shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:w?"Modificar pedido":"Crear nuevo pedido"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2",children:"Informaci\xf3n del Cliente"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar cliente existente"}),(0,s.jsx)("input",{type:"text",value:F,onChange:e=>{q(e.target.value),_(e.target.value.length>0)},onFocus:()=>_(F.length>0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-700",placeholder:"Buscar por nombre o instituci\xf3n..."}),K&&es.length>0&&(0,s.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:es.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>en(e),className:"w-full text-left px-3 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.nombreCompleto}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.institucionEducativa}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.telefono})]},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del cliente *"}),(0,s.jsx)("input",{type:"text",value:Z.clientName,onChange:e=>L({...Z,clientName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-700",placeholder:"Nombre completo del cliente"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono *"}),(0,s.jsx)("input",{type:"tel",value:Z.clientPhone,onChange:e=>L({...Z,clientPhone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-700",placeholder:"0999999999"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad *"}),(0,s.jsx)("input",{type:"text",value:Z.clientCity,onChange:e=>L({...Z,clientCity:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-700",placeholder:"Ciudad"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direcci\xf3n *"}),(0,s.jsx)("textarea",{value:Z.clientAddress,onChange:e=>L({...Z,clientAddress:e.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-700",placeholder:"Direcci\xf3n completa"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forma de pago *"}),(0,s.jsx)("select",{value:Z.paymentMethod,onChange:e=>L({...Z,paymentMethod:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900",children:["Efectivo","Transferencia","Tarjeta de cr\xe9dito","Tarjeta de d\xe9bito","Cheque"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ruta de entrega"}),(0,s.jsxs)("select",{value:Z.routeId||"",onChange:e=>L({...Z,routeId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900",children:[(0,s.jsx)("option",{value:"",children:"Seleccionar ruta..."}),O.filter(e=>e.isActive).map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.identificador," - ",e.nombre]},e.id))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales"}),(0,s.jsx)("textarea",{value:Z.notes,onChange:e=>L({...Z,notes:e.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-700",placeholder:"Observaciones del pedido..."})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2",children:"Productos del Pedido"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agregar productos"}),(0,s.jsx)("input",{type:"text",value:Q,onChange:e=>{B(e.target.value),ee(e.target.value.length>0)},onFocus:()=>ee(Q.length>0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 placeholder-gray-700",placeholder:"Buscar productos..."}),X&&er.length>0&&(0,s.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:er.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>ed(e),className:"w-full text-left px-3 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.category," - ",e.variant]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Regular: $",e.priceRegular.toFixed(2),e.pricePage&&" | PAGINA: $".concat(e.pricePage.toFixed(2))]})]},e.id))})]}),(0,s.jsx)("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:0===et.length?(0,s.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No hay productos agregados"}):(0,s.jsxs)("div",{className:"space-y-2 p-3",children:[et.map(e=>{let t=U.find(t=>t.id===e.productId);return(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.productName}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.productCategory," - ",e.productVariant]})]}),(0,s.jsx)("button",{onClick:()=>ex(e.id),className:"text-red-500 hover:text-red-700",children:(0,s.jsx)(Y.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"mt-2 grid grid-cols-3 gap-2 items-end",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-gray-600",children:"Cantidad"}),(0,s.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:t=>eo(e.id,parseInt(t.target.value)||1),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-orange-500 text-gray-900"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-gray-600",children:"Precio Unit."}),(0,s.jsxs)("div",{className:"text-sm font-medium",children:["$",e.unitPrice.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-gray-600",children:"Total"}),(0,s.jsxs)("div",{className:"text-sm font-bold",children:["$",e.individualValue.toFixed(2)]})]})]}),(null==t?void 0:t.pricePage)&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.usePaginaPrice,onChange:()=>ec(e.id,t),className:"mr-2"}),(0,s.jsxs)("span",{className:"text-xs text-orange-600",children:["Usar precio PAGINA ($",t.pricePage.toFixed(2),")"]})]})})]},e.id)}),(0,s.jsx)("div",{className:"border-t pt-2 mt-3",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-gray-900",children:"TOTAL:"}),(0,s.jsxs)("span",{className:"font-bold text-lg text-orange-600",children:["$",el(et).totalAmount.toFixed(2)]})]})})]})})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsxs)("button",{onClick:ep,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:[(0,s.jsx)(M.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Cancelar"})]}),(0,s.jsxs)("button",{onClick:w?()=>{if(!w||0===et.length)return;let{subtotal:e,totalAmount:t}=el(et),a=O.find(e=>e.id===Z.routeId);l(i.map(s=>s.id===w.id?{...s,...Z,routeName:null==a?void 0:a.nombre,items:et,subtotal:e,totalAmount:t}:s)),C(null),eg()}:()=>{if(0===et.length||!Z.clientName.trim())return;let{subtotal:e,totalAmount:t}=el(et),a=O.find(e=>e.id===Z.routeId);l([{id:Date.now().toString(),orderNumber:ei(),clientName:Z.clientName,clientPhone:Z.clientPhone,clientCity:Z.clientCity,clientAddress:Z.clientAddress,orderDate:new Date,paymentMethod:Z.paymentMethod,routeId:Z.routeId,routeName:null==a?void 0:a.nombre,items:et,subtotal:e,totalAmount:t,status:"Pendiente",isActive:!0,createdAt:new Date,notes:Z.notes},...i]),c(!1),eg()},disabled:!Z.clientName.trim()||0===et.length,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(V.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:w?"Guardar cambios":"Crear pedido"})]})]})]})})}),x&&P&&(0,s.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm overflow-y-auto h-full w-full z-50",children:(0,s.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-[800px] shadow-lg rounded-md bg-white",children:[(0,s.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Vista previa de impresi\xf3n"}),(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)("button",{onClick:ey,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Descargar PDF"}),(0,s.jsx)("button",{onClick:()=>m(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar"})]})]}),(0,s.jsxs)("div",{ref:k,className:"bg-white p-8 border border-gray-300",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Mega Donut"}),(0,s.jsx)("p",{className:"text-gray-800",children:"Sistema Mega Donut - Nota de Pedido"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-black mb-2",children:"Informaci\xf3n del Cliente"}),(0,s.jsxs)("p",{className:"text-gray-900",children:[(0,s.jsx)("strong",{children:"Nombre:"})," ",P.clientName]}),(0,s.jsxs)("p",{className:"text-gray-900",children:[(0,s.jsx)("strong",{children:"Tel\xe9fono:"})," ",P.clientPhone]}),(0,s.jsxs)("p",{className:"text-gray-900",children:[(0,s.jsx)("strong",{children:"Ciudad:"})," ",P.clientCity]}),(0,s.jsxs)("p",{className:"text-gray-900",children:[(0,s.jsx)("strong",{children:"Direcci\xf3n:"})," ",P.clientAddress]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-black mb-2",children:"Informaci\xf3n del Pedido"}),(0,s.jsxs)("p",{className:"text-gray-900",children:[(0,s.jsx)("strong",{children:"N\xfamero:"})," ",P.orderNumber]}),(0,s.jsxs)("p",{className:"text-gray-900",children:[(0,s.jsx)("strong",{children:"Fecha:"})," ",P.orderDate.toLocaleDateString("es-ES")]}),(0,s.jsxs)("p",{className:"text-gray-900",children:[(0,s.jsx)("strong",{children:"Estado:"})," ",P.status]}),(0,s.jsxs)("p",{className:"text-gray-900",children:[(0,s.jsx)("strong",{children:"Forma de pago:"})," ",P.paymentMethod]}),P.routeName&&(0,s.jsxs)("p",{className:"text-gray-900",children:[(0,s.jsx)("strong",{children:"Ruta:"})," ",P.routeName]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-black mb-3",children:"Detalle de Productos"}),(0,s.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-black font-semibold",children:"Producto"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-black font-semibold",children:"Cantidad"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-right text-black font-semibold",children:"Precio Unit."}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-right text-black font-semibold",children:"Total"})]})}),(0,s.jsx)("tbody",{children:P.items.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-black",children:e.productName}),(0,s.jsxs)("div",{className:"text-sm text-gray-800",children:[e.productCategory," - ",e.productVariant]})]})}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center text-black",children:e.quantity}),(0,s.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-right text-black",children:["$",e.unitPrice.toFixed(2)]}),(0,s.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-right font-medium text-black",children:["$",e.individualValue.toFixed(2)]})]},t))}),(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("td",{colSpan:3,className:"border border-gray-300 px-3 py-2 text-right font-bold text-black",children:"TOTAL A CANCELAR:"}),(0,s.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-right font-bold text-lg text-black",children:["$",P.totalAmount.toFixed(2)]})]})})]})]}),P.notes&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-black mb-2",children:"Notas adicionales"}),(0,s.jsx)("p",{className:"text-gray-900",children:P.notes})]}),(0,s.jsxs)("div",{className:"mt-8 pt-4 border-t border-gray-300",children:[(0,s.jsxs)("p",{className:"text-center text-sm text-gray-800 font-medium",children:["Gracias por su preferencia - Mega Donut",(0,s.jsx)("br",{}),"Generado el ",new Date().toLocaleDateString("es-ES")," a las ",new Date().toLocaleTimeString("es-ES")]}),(0,s.jsx)("p",{className:"text-center text-xs text-red-600 mt-2 font-medium",children:"En caso de no cancelar el valor emitido en la nota vigente pedido a MEGA DONUT, el cliente est\xe1 sujeto a TR\xc1MITES LEGALES"})]})]})]})}),u&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:ej,children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Gu\xeda de Ruta"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("button",{onClick:eN,className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[(0,s.jsx)(H.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Generar PDF"})]}),(0,s.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar"})]})]})}),(0,s.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Ruta"}),(0,s.jsxs)("select",{value:g,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,s.jsx)("option",{value:"",children:"Seleccionar una ruta"}),O.filter(e=>e.isActive).map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.identificador," - ",e.nombre]},e.id))]})]}),g&&(0,s.jsx)("div",{ref:I,className:"p-6",children:(()=>{let{route:e,clients:t,orders:a,products:r}=ev();return e?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center border-b border-gray-200 pb-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Mega Donut"}),(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Gu\xeda de Reparto - Ruta ",e.identificador]}),(0,s.jsx)("p",{className:"text-lg text-gray-600",children:e.nombre}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Generado el ",new Date().toLocaleDateString("es-ES")," a las ",new Date().toLocaleTimeString("es-ES")]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-50 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Clientes"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:t.length})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Pedidos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:a.length})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Productos \xdanicos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:r.size})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clientes de la Ruta"}),(0,s.jsx)("div",{className:"space-y-3",children:t.length>0?t.map((e,t)=>(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-medium text-gray-900",children:[t+1,". ",e.institucionEducativa]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Contacto: ",e.nombreCompleto]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Tel\xe9fono: ",e.telefono]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Direcci\xf3n: ",e.direccion]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Activo":"Inactivo"})})]})},e.id)):(0,s.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No hay clientes asignados a esta ruta"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Productos de la Ruta"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Array.from(r).map((e,t)=>(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg p-3",children:(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e})},t))}),0===r.size&&(0,s.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No hay productos en pedidos de esta ruta"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalle de Pedidos"}),(0,s.jsx)("div",{className:"space-y-3",children:a.length>0?a.map((e,t)=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("h4",{className:"font-medium text-gray-900",children:["Pedido ",e.orderNumber]}),(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ".concat(eP(e.status)),children:e.status})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Cliente: ",e.clientName]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Fecha: ",e.orderDate.toLocaleDateString("es-ES")]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Total: $",e.totalAmount.toFixed(2)]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Productos:"}),(0,s.jsx)("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:e.items.map((e,t)=>(0,s.jsxs)("li",{children:[e.productName," - Cantidad: ",e.quantity," - $",e.individualValue.toFixed(2)]},t))})]})]},e.id)):(0,s.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No hay pedidos en esta ruta"})})]}),(0,s.jsx)("div",{className:"mt-8 pt-4 border-t border-gray-300",children:(0,s.jsxs)("p",{className:"text-center text-sm text-gray-800 font-medium",children:["Gu\xeda de reparto generada para Mega Donut",(0,s.jsx)("br",{}),"Ruta ",e.identificador," - ",e.nombre]})})]}):(0,s.jsx)("p",{className:"text-gray-500",children:"Ruta no encontrada"})})()})]})}),y&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:ej,children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Exportar Informaci\xf3n de Pedidos"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("button",{onClick:ef,className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[(0,s.jsx)(H.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Generar PDF"})]}),(0,s.jsx)("button",{onClick:()=>v(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar"})]})]})}),(0,s.jsx)("div",{ref:z,className:"p-6",children:(()=>{let e=ew(),t=e.reduce((e,t)=>e+t.totalAmount,0),a=j?O.find(e=>e.id===j):null;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center border-b border-gray-200 pb-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Mega Donut"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Reporte de Pedidos"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Generado el ",new Date().toLocaleDateString("es-ES")," a las ",new Date().toLocaleTimeString("es-ES")]}),(n||j)&&(0,s.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Filtros aplicados:"}),n&&(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[' B\xfasqueda: "',n,'"']}),a&&(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[" Ruta: ",a.identificador," - ",a.nombre]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Pedidos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:e.length})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",t.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pedidos Pendientes"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(e=>"Pendiente"===e.status).length})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pedidos Entregados"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-600",children:e.filter(e=>"Entregado"===e.status).length})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalle de Pedidos"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full border border-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-black font-semibold",children:"N\xfamero"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-black font-semibold",children:"Cliente"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-black font-semibold",children:"Ruta"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-black font-semibold",children:"Fecha"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-black font-semibold",children:"Estado"}),(0,s.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-right text-black font-semibold",children:"Total"})]})}),(0,s.jsx)("tbody",{children:e.map((e,t)=>(0,s.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-black",children:e.orderNumber}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-black",children:e.clientName}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-black",children:e.routeName||"Sin asignar"}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-black",children:e.orderDate.toLocaleDateString("es-ES")}),(0,s.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-black",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ".concat(eP(e.status)),children:e.status})}),(0,s.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-right font-medium text-black",children:["$",e.totalAmount.toFixed(2)]})]},e.id))}),(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("td",{colSpan:5,className:"border border-gray-300 px-3 py-2 text-right font-bold text-black",children:"TOTAL:"}),(0,s.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-right font-bold text-lg text-black",children:["$",t.toFixed(2)]})]})})]})})]}),(0,s.jsx)("div",{className:"mt-8 pt-4 border-t border-gray-300",children:(0,s.jsxs)("p",{className:"text-center text-sm text-gray-800 font-medium",children:["Reporte generado para Mega Donut",(0,s.jsx)("br",{}),e.length," pedidos encontrados"]})})]})})()})]})}),(0,s.jsx)(T,{})]})}var X=a(29733),ee=a(44715),et=a(69724);let ea={id:"1",period:"weekly",startDate:new Date("2024-03-11"),endDate:new Date("2024-03-17"),totalSales:2580.5,totalOrders:45,averageOrderValue:57.34,topProducts:[{productId:"1",productName:"Donut Chocolate",category:"Donut",variant:"choco",quantitySold:240,totalRevenue:96,averagePrice:.4},{productId:"7",productName:"Dona Rellena Chantilly",category:"Rellenas",variant:"chantilly",quantitySold:180,totalRevenue:72,averagePrice:.4},{productId:"34",productName:"Pastel Chocolate Normal",category:"Pasteles chocolate",variant:"normales",quantitySold:25,totalRevenue:125,averagePrice:5},{productId:"19",productName:"Pizza Cuadrada",category:"Pizzas",variant:"cuadrada",quantitySold:85,totalRevenue:59.5,averagePrice:.7},{productId:"28",productName:"Pan Hamburguesa",category:"Panes",variant:"hamburguesa",quantitySold:320,totalRevenue:64,averagePrice:.2}],salesByRoute:[{routeId:"1",routeName:"NORTE",totalSales:580.2,totalOrders:12,averageOrderValue:48.35,topProducts:[{productId:"1",productName:"Donut Chocolate",category:"Donut",variant:"choco",quantitySold:60,totalRevenue:24,averagePrice:.4}]},{routeId:"2",routeName:"CENTRO",totalSales:720.8,totalOrders:15,averageOrderValue:48.05,topProducts:[{productId:"34",productName:"Pastel Chocolate Normal",category:"Pasteles chocolate",variant:"normales",quantitySold:8,totalRevenue:40,averagePrice:5}]},{routeId:"3",routeName:"CARAPUNGO",totalSales:465.3,totalOrders:8,averageOrderValue:58.16,topProducts:[{productId:"9",productName:"Mini Donut Chocolate",category:"Mini donut",variant:"choco",quantitySold:96,totalRevenue:24,averagePrice:.25}]},{routeId:"6",routeName:"CUMBAYA",totalSales:380.1,totalOrders:6,averageOrderValue:63.35,topProducts:[{productId:"28",productName:"Pan Hamburguesa",category:"Panes",variant:"hamburguesa",quantitySold:80,totalRevenue:16,averagePrice:.2}]},{routeId:"11",routeName:"PAGINA",totalSales:434.1,totalOrders:4,averageOrderValue:108.53,topProducts:[{productId:"1",productName:"Donut Chocolate",category:"Donut",variant:"choco",quantitySold:48,totalRevenue:24,averagePrice:.5}]}],salesByPaymentMethod:[{paymentMethod:"Efectivo",totalSales:1548.3,orderCount:28,percentage:60},{paymentMethod:"Transferencia",totalSales:516.1,orderCount:9,percentage:20},{paymentMethod:"Tarjeta de cr\xe9dito",totalSales:309.66,orderCount:5,percentage:12},{paymentMethod:"Tarjeta de d\xe9bito",totalSales:206.44,orderCount:3,percentage:8}]},es={id:"1",date:new Date("2024-03-17"),plannedProduction:[{productId:"1",productName:"Donut Chocolate",category:"Donut",variant:"choco",plannedQuantity:200,actualQuantity:195,unitCost:.15,totalCost:30},{productId:"7",productName:"Dona Rellena Chantilly",category:"Rellenas",variant:"chantilly",plannedQuantity:150,actualQuantity:160,unitCost:.18,totalCost:27},{productId:"34",productName:"Pastel Chocolate Normal",category:"Pasteles chocolate",variant:"normales",plannedQuantity:20,actualQuantity:18,unitCost:2.5,totalCost:50},{productId:"19",productName:"Pizza Cuadrada",category:"Pizzas",variant:"cuadrada",plannedQuantity:100,actualQuantity:105,unitCost:.35,totalCost:35},{productId:"28",productName:"Pan Hamburguesa",category:"Panes",variant:"hamburguesa",plannedQuantity:300,actualQuantity:285,unitCost:.08,totalCost:24}],actualProduction:[{productId:"1",productName:"Donut Chocolate",category:"Donut",variant:"choco",plannedQuantity:200,actualQuantity:195,unitCost:.15,totalCost:29.25},{productId:"7",productName:"Dona Rellena Chantilly",category:"Rellenas",variant:"chantilly",plannedQuantity:150,actualQuantity:160,unitCost:.18,totalCost:28.8},{productId:"34",productName:"Pastel Chocolate Normal",category:"Pasteles chocolate",variant:"normales",plannedQuantity:20,actualQuantity:18,unitCost:2.5,totalCost:45},{productId:"19",productName:"Pizza Cuadrada",category:"Pizzas",variant:"cuadrada",plannedQuantity:100,actualQuantity:105,unitCost:.35,totalCost:36.75},{productId:"28",productName:"Pan Hamburguesa",category:"Panes",variant:"hamburguesa",plannedQuantity:300,actualQuantity:285,unitCost:.08,totalCost:22.8}],variance:[{productId:"1",productName:"Donut Chocolate",plannedQuantity:200,actualQuantity:195,variance:-5,variancePercentage:-2.5},{productId:"7",productName:"Dona Rellena Chantilly",plannedQuantity:150,actualQuantity:160,variance:10,variancePercentage:6.7},{productId:"34",productName:"Pastel Chocolate Normal",plannedQuantity:20,actualQuantity:18,variance:-2,variancePercentage:-10},{productId:"19",productName:"Pizza Cuadrada",plannedQuantity:100,actualQuantity:105,variance:5,variancePercentage:5},{productId:"28",productName:"Pan Hamburguesa",plannedQuantity:300,actualQuantity:285,variance:-15,variancePercentage:-5}],efficiency:96.2,totalCost:162.6},er={id:"1",date:new Date("2024-03-17"),products:[{productId:"1",productName:"Donut Chocolate",category:"Donut",currentStock:45,minimumStock:20,unitValue:.4,totalValue:18,status:"normal"},{productId:"7",productName:"Dona Rellena Chantilly",category:"Rellenas",currentStock:15,minimumStock:20,unitValue:.4,totalValue:6,status:"low"},{productId:"34",productName:"Pastel Chocolate Normal",category:"Pasteles chocolate",currentStock:8,minimumStock:5,unitValue:5,totalValue:40,status:"normal"},{productId:"19",productName:"Pizza Cuadrada",category:"Pizzas",currentStock:0,minimumStock:10,unitValue:.7,totalValue:0,status:"out-of-stock"},{productId:"28",productName:"Pan Hamburguesa",category:"Panes",currentStock:125,minimumStock:50,unitValue:.2,totalValue:25,status:"normal"}],totalValue:89,lowStockItems:[{productId:"7",productName:"Dona Rellena Chantilly",category:"Rellenas",currentStock:15,minimumStock:20,unitValue:.4,totalValue:6,status:"low"},{productId:"19",productName:"Pizza Cuadrada",category:"Pizzas",currentStock:0,minimumStock:10,unitValue:.7,totalValue:0,status:"out-of-stock"}]},ei=[{id:"1",routeId:"1",routeName:"NORTE",period:"weekly",startDate:new Date("2024-03-11"),endDate:new Date("2024-03-17"),totalClients:45,activeClients:38,totalSales:580.2,averageSalePerClient:15.27,topProducts:[{productId:"1",productName:"Donut Chocolate",category:"Donut",variant:"choco",quantitySold:60,totalRevenue:24,averagePrice:.4},{productId:"28",productName:"Pan Hamburguesa",category:"Panes",variant:"hamburguesa",quantitySold:45,totalRevenue:9,averagePrice:.2}],deliveryEfficiency:95.2},{id:"2",routeId:"11",routeName:"PAGINA",period:"weekly",startDate:new Date("2024-03-11"),endDate:new Date("2024-03-17"),totalClients:25,activeClients:22,totalSales:434.1,averageSalePerClient:19.73,topProducts:[{productId:"1",productName:"Donut Chocolate",category:"Donut",variant:"choco",quantitySold:48,totalRevenue:24,averagePrice:.5},{productId:"9",productName:"Mini Donut Chocolate",category:"Mini donut",variant:"choco",quantitySold:96,totalRevenue:24,averagePrice:.25}],deliveryEfficiency:88}],el=[{day:"Lun",ventas:320.5,pedidos:8,meta:350},{day:"Mar",ventas:285.75,pedidos:7,meta:350},{day:"Mi\xe9",ventas:410.2,pedidos:11,meta:350},{day:"Jue",ventas:378.9,pedidos:9,meta:350},{day:"Vie",ventas:445.8,pedidos:12,meta:350},{day:"S\xe1b",ventas:520.3,pedidos:15,meta:350},{day:"Dom",ventas:219.05,pedidos:6,meta:350}],en=[{month:"Ene",ventas:8450.5,pedidos:245,meta:8e3},{month:"Feb",ventas:7920.75,pedidos:228,meta:8e3},{month:"Mar",ventas:9180.2,pedidos:268,meta:8e3},{month:"Abr",ventas:8750.9,pedidos:252,meta:8e3},{month:"May",ventas:9445.8,pedidos:275,meta:8e3},{month:"Jun",ventas:10120.3,pedidos:295,meta:8e3},{month:"Jul",ventas:9850.15,pedidos:287,meta:8e3},{month:"Ago",ventas:10250.4,pedidos:298,meta:8e3},{month:"Sep",ventas:9675.25,pedidos:280,meta:8e3},{month:"Oct",ventas:10450.6,pedidos:305,meta:8e3},{month:"Nov",ventas:11250.8,pedidos:328,meta:8e3},{month:"Dic",ventas:12180.95,pedidos:356,meta:8e3}],ed=[{name:"Donuts",ventas:1250,porcentaje:28},{name:"Pan Hamburguesa",ventas:980,porcentaje:22},{name:"Rellenas",ventas:850,porcentaje:19},{name:"Pizzas",ventas:640,porcentaje:14},{name:"Pasteles",ventas:420,porcentaje:9},{name:"Otros",ventas:360,porcentaje:8}],eo=[{ruta:"NORTE",ventas:580.2,clientes:12,color:"#3B82F6"},{ruta:"CENTRO",ventas:720.8,clientes:15,color:"#10B981"},{ruta:"CARAPUNGO",ventas:465.3,clientes:8,color:"#F59E0B"},{ruta:"CUMBAYA",ventas:380.1,clientes:6,color:"#EF4444"},{ruta:"PAGINA",ventas:434.1,clientes:4,color:"#8B5CF6"}],ec=[{quarter:"Q1 2023",ventas:24500,crecimiento:8.5},{quarter:"Q2 2023",ventas:26800,crecimiento:9.4},{quarter:"Q3 2023",ventas:29200,crecimiento:8.9},{quarter:"Q4 2023",ventas:32150,crecimiento:10.1},{quarter:"Q1 2024",ventas:34800,crecimiento:8.2}],ex=[{name:"Efectivo",value:60,amount:1548.3,color:"#10B981"},{name:"Transferencia",value:20,amount:516.1,color:"#3B82F6"},{name:"Tarjeta Cr\xe9dito",value:12,amount:309.66,color:"#F59E0B"},{name:"Tarjeta D\xe9bito",value:8,amount:206.44,color:"#EF4444"}];var em=a(26587),eu=a(66363),eh=a(38333),eg=a(23356),ep=a(22983),ej=a(10166),eb=a(94866),ey=a(98061),eN=a(94830),ev=a(43897),ef=a(24897),ew=a(98308),eC=a(74994),eP=a(81433),eA=a(78720),eD=a(53034);function ek(e){let{onBack:t}=e,[a,i]=(0,r.useState)(null),[l,n]=(0,r.useState)("weekly"),[o,c]=(0,r.useState)(new Date("2024-03-11").toISOString().split("T")[0]),[x,m]=(0,r.useState)(new Date("2024-03-17").toISOString().split("T")[0]),u=[{id:"sales",title:"Reporte de Ventas",description:"An\xe1lisis completo de ventas por per\xedodo, productos y rutas",icon:A.Z,color:"bg-gradient-to-br from-green-500 to-green-700"},{id:"production",title:"Reporte de Producci\xf3n",description:"Comparativo planificado vs real, eficiencia y costos",icon:J.Z,color:"bg-gradient-to-br from-blue-500 to-blue-700"},{id:"inventory",title:"Reporte de Inventario",description:"Stock actual, productos con bajo inventario y valorizaci\xf3n",icon:J.Z,color:"bg-gradient-to-br from-purple-500 to-purple-700"},{id:"routes",title:"Reporte por Rutas",description:"Rendimiento por ruta, clientes activos y productos top",icon:f.Z,color:"bg-gradient-to-br from-yellow-500 to-yellow-700"},{id:"products",title:"Reporte de Productos",description:"An\xe1lisis detallado por categor\xeda y l\xednea de productos",icon:N.Z,color:"bg-gradient-to-br from-red-500 to-red-700"},{id:"comparative",title:"Reporte Comparativo",description:"Comparaciones entre per\xedodos y an\xe1lisis de tendencias",icon:X.Z,color:"bg-gradient-to-br from-indigo-500 to-indigo-700"}],h=e=>{i(e)},g=e=>new Intl.NumberFormat("es-EC",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e),p=e=>"".concat(e.toFixed(1),"%");if(a){var j;return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{onClick:()=>i(null),className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,s.jsx)(S.Z,{className:"h-5 w-5 mr-2"}),"Volver a reportes"]}),(0,s.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:null===(j=u.find(e=>e.id===a))||void 0===j?void 0:j.title})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("button",{onClick:()=>{alert("Funcionalidad de exportaci\xf3n a PDF - En desarrollo")},className:"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,s.jsx)(ee.Z,{className:"h-4 w-4 mr-2"}),"PDF"]}),(0,s.jsxs)("button",{onClick:()=>{alert("Funcionalidad de exportaci\xf3n a Excel - En desarrollo")},className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,s.jsx)(ee.Z,{className:"h-4 w-4 mr-2"}),"Excel"]})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["sales"===a&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(A.Z,{className:"h-8 w-8 text-green-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Ventas Totales"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:g(ea.totalSales)})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(N.Z,{className:"h-8 w-8 text-blue-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Pedidos"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:ea.totalOrders})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(w.Z,{className:"h-8 w-8 text-purple-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Promedio por Pedido"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:g(ea.averageOrderValue)})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(W.Z,{className:"h-8 w-8 text-orange-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Per\xedodo"}),(0,s.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[ea.startDate.toLocaleDateString("es-ES")," - ",ea.endDate.toLocaleDateString("es-ES")]})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Productos M\xe1s Vendidos"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad Vendida"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingresos Totales"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio Promedio"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:ea.topProducts.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.productName}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.category," - ",e.variant]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.quantitySold}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g(e.totalRevenue)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g(e.averagePrice)})]},t))})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ventas por Ruta"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ea.salesByRoute.map((e,t)=>(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:e.routeName}),(0,s.jsx)(f.Z,{className:"h-5 w-5 text-gray-400"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Ventas: ",g(e.totalSales)]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Pedidos: ",e.totalOrders]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Promedio: ",g(e.averageOrderValue)]})]})]},t))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progreso Semanal"}),(0,s.jsx)(em.h,{width:"100%",height:300,children:(0,s.jsxs)(eu.w,{data:el,children:[(0,s.jsx)(eh.q,{strokeDasharray:"3 3"}),(0,s.jsx)(eg.K,{dataKey:"day"}),(0,s.jsx)(ep.B,{}),(0,s.jsx)(ej.u,{formatter:(e,t)=>["ventas"===t?g(Number(e)):e,"ventas"===t?"Ventas":"meta"===t?"Meta":"Pedidos"]}),(0,s.jsx)(eb.D,{}),(0,s.jsx)(ey.x,{type:"monotone",dataKey:"ventas",stroke:"#10B981",strokeWidth:2,name:"Ventas"}),(0,s.jsx)(ey.x,{type:"monotone",dataKey:"meta",stroke:"#EF4444",strokeDasharray:"5 5",name:"Meta"})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progreso Mensual"}),(0,s.jsx)(em.h,{width:"100%",height:300,children:(0,s.jsxs)(eN.T,{data:en,children:[(0,s.jsx)(eh.q,{strokeDasharray:"3 3"}),(0,s.jsx)(eg.K,{dataKey:"month"}),(0,s.jsx)(ep.B,{}),(0,s.jsx)(ej.u,{formatter:(e,t)=>["ventas"===t?g(Number(e)):e,"ventas"===t?"Ventas":"meta"===t?"Meta":"Pedidos"]}),(0,s.jsx)(eb.D,{}),(0,s.jsx)(ev.u,{type:"monotone",dataKey:"ventas",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6,name:"Ventas"}),(0,s.jsx)(ey.x,{type:"monotone",dataKey:"meta",stroke:"#F59E0B",strokeDasharray:"5 5",name:"Meta"})]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Productos M\xe1s Vendidos"}),(0,s.jsx)(em.h,{width:"100%",height:300,children:(0,s.jsxs)(ef.u,{children:[(0,s.jsx)(ew.b,{data:ed,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,porcentaje:a}=e;return"".concat(t," ").concat(a,"%")},outerRadius:80,fill:"#8884d8",dataKey:"ventas",children:ed.map((e,t)=>(0,s.jsx)(eC.b,{fill:"hsl(".concat(60*t,", 70%, 50%)")},"cell-".concat(t)))}),(0,s.jsx)(ej.u,{formatter:e=>[e,"Ventas"]})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ventas por Ruta"}),(0,s.jsx)(em.h,{width:"100%",height:300,children:(0,s.jsxs)(eP.v,{data:eo,children:[(0,s.jsx)(eh.q,{strokeDasharray:"3 3"}),(0,s.jsx)(eg.K,{dataKey:"ruta"}),(0,s.jsx)(ep.B,{}),(0,s.jsx)(ej.u,{formatter:(e,t)=>["ventas"===t?g(Number(e)):e,"ventas"===t?"Ventas":"Clientes"]}),(0,s.jsx)(eb.D,{}),(0,s.jsx)(eA.$,{dataKey:"ventas",fill:"#3B82F6",name:"Ventas"})]})})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Crecimiento Trimestral"}),(0,s.jsx)(em.h,{width:"100%",height:350,children:(0,s.jsxs)(eD.c,{data:ec,children:[(0,s.jsx)(eh.q,{strokeDasharray:"3 3"}),(0,s.jsx)(eg.K,{dataKey:"quarter"}),(0,s.jsx)(ep.B,{yAxisId:"left"}),(0,s.jsx)(ep.B,{yAxisId:"right",orientation:"right"}),(0,s.jsx)(ej.u,{formatter:(e,t)=>["ventas"===t?g(Number(e)):"".concat(e,"%"),"ventas"===t?"Ventas":"Crecimiento"]}),(0,s.jsx)(eb.D,{}),(0,s.jsx)(eA.$,{yAxisId:"left",dataKey:"ventas",fill:"#10B981",name:"Ventas"}),(0,s.jsx)(ey.x,{yAxisId:"right",type:"monotone",dataKey:"crecimiento",stroke:"#F59E0B",strokeWidth:3,name:"Crecimiento %"})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ventas por M\xe9todo de Pago"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)("div",{className:"space-y-4",children:ea.salesByPaymentMethod.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full mr-3"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.paymentMethod})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[e.orderCount," pedidos"]}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:g(e.totalSales)}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["(",p(e.percentage),")"]})]})]},t))}),(0,s.jsx)(em.h,{width:"100%",height:200,children:(0,s.jsxs)(ef.u,{children:[(0,s.jsx)(ew.b,{data:ex,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:e=>{let{name:t,value:a}=e;return"".concat(t," ").concat(a,"%")},children:ex.map((e,t)=>(0,s.jsx)(eC.b,{fill:e.color},"cell-".concat(t)))}),(0,s.jsx)(ej.u,{formatter:e=>["".concat(e,"%"),"Porcentaje"]})]})})]})]})]}),"production"===a&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(X.Z,{className:"h-8 w-8 text-green-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Eficiencia"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:p(es.efficiency)})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(A.Z,{className:"h-8 w-8 text-blue-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Costo Total"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:g(es.totalCost)})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(J.Z,{className:"h-8 w-8 text-purple-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Productos"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:es.plannedProduction.length})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(W.Z,{className:"h-8 w-8 text-orange-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Fecha"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:es.date.toLocaleDateString("es-ES")})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Producci\xf3n Planificada vs Real"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Planificado"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Real"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variaci\xf3n"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Costo Real"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:es.variance.map((e,t)=>{let a=es.actualProduction[t];return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.productName})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.plannedQuantity}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.actualQuantity}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.variance>=0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e.variance>=0?"+":"",e.variance," (",p(e.variancePercentage),")"]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g(a.totalCost)})]},t)})})]})})]})]}),"inventory"===a&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(J.Z,{className:"h-8 w-8 text-blue-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:g(er.totalValue)})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(et.Z,{className:"h-8 w-8 text-red-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Stock Bajo"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:er.lowStockItems.length})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(N.Z,{className:"h-8 w-8 text-green-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Productos"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:er.products.length})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(W.Z,{className:"h-8 w-8 text-purple-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Fecha"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:er.date.toLocaleDateString("es-ES")})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado del Inventario"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actual"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock M\xednimo"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Total"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:er.products.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.productName}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.category})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.currentStock}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.minimumStock}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g(e.totalValue)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("normal"===e.status?"bg-green-100 text-green-800":"low"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:"normal"===e.status?"Normal":"low"===e.status?"Stock Bajo":"Agotado"})})]},t))})]})})]})]}),"routes"===a&&(0,s.jsx)("div",{className:"space-y-6",children:ei.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Ruta ",e.routeName]}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[e.startDate.toLocaleDateString("es-ES")," - ",e.endDate.toLocaleDateString("es-ES")]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalClients}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Clientes"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.activeClients}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Clientes Activos"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:g(e.totalSales)}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Ventas Totales"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:p(e.deliveryEfficiency)}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Eficiencia Entrega"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Productos M\xe1s Vendidos"}),(0,s.jsx)("div",{className:"space-y-2",children:e.topProducts.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.productName}),(0,s.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.category,")"]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.quantitySold," unidades"]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:g(e.totalRevenue)})]})]},t))})]})]},t))}),("products"===a||"comparative"===a)&&(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-sm border text-center",children:[(0,s.jsx)(J.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Reporte en Desarrollo"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Este reporte est\xe1 siendo desarrollado y estar\xe1 disponible pr\xf3ximamente."})]})]}),(0,s.jsx)(T,{})]})}return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,s.jsx)(S.Z,{className:"h-5 w-5 mr-2"}),"Volver al dashboard"]}),(0,s.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Centro de Reportes"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(B.Z,{className:"h-5 w-5 text-gray-400"}),(0,s.jsxs)("select",{value:l,onChange:e=>n(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,s.jsx)("option",{value:"daily",children:"Diario"}),(0,s.jsx)("option",{value:"weekly",children:"Semanal"}),(0,s.jsx)("option",{value:"monthly",children:"Mensual"})]})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configurar Per\xedodo de Reporte"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),(0,s.jsx)("input",{type:"date",value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Fin"}),(0,s.jsx)("input",{type:"date",value:x,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)("button",{className:"w-full px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Aplicar Filtros"})})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>{let t=e.icon;return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",onClick:()=>h(e.id),children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("div",{className:"w-12 h-12 ".concat(e.color," rounded-lg flex items-center justify-center mb-4"),children:(0,s.jsx)(t,{className:"h-6 w-6 text-white"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-orange-600 font-medium",children:"Generar reporte"}),(0,s.jsx)(d.Z,{className:"h-4 w-4 text-orange-600"})]})]})},e.id)})}),(0,s.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen de la Semana"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-semibold text-green-600",children:g(ea.totalSales)}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Ventas Totales"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-semibold text-blue-600",children:ea.totalOrders}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Pedidos"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-semibold text-purple-600",children:p(es.efficiency)}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Eficiencia"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-semibold text-red-600",children:er.lowStockItems.length}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Productos Bajo Stock"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tendencia Semanal"}),(0,s.jsx)(em.h,{width:"100%",height:200,children:(0,s.jsxs)(eu.w,{data:el,children:[(0,s.jsx)(eg.K,{dataKey:"day"}),(0,s.jsx)(ep.B,{hide:!0}),(0,s.jsx)(ej.u,{formatter:(e,t)=>["ventas"===t?g(Number(e)):e,"ventas"===t?"Ventas":"Meta"]}),(0,s.jsx)(ey.x,{type:"monotone",dataKey:"ventas",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",strokeWidth:2,r:4}}),(0,s.jsx)(ey.x,{type:"monotone",dataKey:"meta",stroke:"#EF4444",strokeDasharray:"5 5",strokeWidth:2,dot:!1})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuci\xf3n por Rutas"}),(0,s.jsx)(em.h,{width:"100%",height:200,children:(0,s.jsxs)(eP.v,{data:eo,children:[(0,s.jsx)(eg.K,{dataKey:"ruta"}),(0,s.jsx)(ep.B,{hide:!0}),(0,s.jsx)(ej.u,{formatter:e=>[g(Number(e)),"Ventas"]}),(0,s.jsx)(eA.$,{dataKey:"ventas",fill:"#3B82F6",radius:[4,4,0,0]})]})})]})]})]})]}),(0,s.jsx)(T,{})]})}function eS(e){let{username:t,onLogout:a}=e,[i,l]=(0,r.useState)(new Date),[n,d]=(0,r.useState)("dashboard");(0,r.useEffect)(()=>{let e=setInterval(()=>{l(new Date)},1e3);return()=>clearInterval(e)},[]);let o=[{label:"Usuarios",icon:b.Z,color:"bg-gradient-to-br from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800",onClick:()=>d("users")},{label:"Productos",icon:y.Z,color:"bg-gradient-to-br from-purple-500 to-purple-700 hover:from-purple-600 hover:to-purple-800",onClick:()=>d("products")},{label:"Pedidos",icon:N.Z,color:"bg-gradient-to-br from-green-500 to-green-700 hover:from-green-600 hover:to-green-800",onClick:()=>d("orders")},{label:"Clientes",icon:v.Z,color:"bg-gradient-to-br from-indigo-500 to-indigo-700 hover:from-indigo-600 hover:to-indigo-800",onClick:()=>d("clients")},{label:"Rutas",icon:f.Z,color:"bg-gradient-to-br from-yellow-500 to-yellow-700 hover:from-yellow-600 hover:to-yellow-800",onClick:()=>d("routes")},{label:"Reportes",icon:w.Z,color:"bg-gradient-to-br from-orange-500 to-orange-700 hover:from-orange-600 hover:to-orange-800",onClick:()=>d("reports")}];return"users"===n?(0,s.jsx)(Z,{onBack:()=>d("dashboard")}):"products"===n?(0,s.jsx)(K,{onBack:()=>d("dashboard")}):"orders"===n?(0,s.jsx)(_,{onBack:()=>d("dashboard")}):"clients"===n?(0,s.jsx)(q,{onBack:()=>d("dashboard")}):"routes"===n?(0,s.jsx)(Q,{onBack:()=>d("dashboard")}):"reports"===n?(0,s.jsx)(ek,{onBack:()=>d("dashboard")}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(x,{size:"md"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-orange-600",children:"MEGA DONUT"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Sistema de Gesti\xf3n"})]}),(0,s.jsxs)("div",{className:"ml-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Panel de Control"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,s.jsx)(C.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:i.toLocaleTimeString("es-ES")})]}),(0,s.jsx)("div",{className:"text-sm text-gray-900",children:(0,s.jsxs)("span",{className:"font-medium",children:["Usuario: ",t]})}),(0,s.jsxs)("button",{onClick:a,className:"flex items-center space-x-2 text-red-600 hover:text-red-700 hover:bg-red-50 px-3 py-2 rounded-lg transition-colors",children:[(0,s.jsx)(P.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Salir sesi\xf3n"})]})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ventas Hoy"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"$368.50"}),(0,s.jsx)("p",{className:"text-xs text-green-500",children:"+12% vs ayer"})]}),(0,s.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,s.jsx)(A.Z,{className:"h-6 w-6 text-green-600"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pedidos Hoy"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"8"}),(0,s.jsx)("p",{className:"text-xs text-blue-500",children:"6 entregados"})]}),(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,s.jsx)(N.Z,{className:"h-6 w-6 text-blue-600"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Clientes Activos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"38"}),(0,s.jsx)("p",{className:"text-xs text-purple-500",children:"En 5 rutas"})]}),(0,s.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,s.jsx)(v.Z,{className:"h-6 w-6 text-purple-600"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Stock Bajo"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600",children:"2"}),(0,s.jsx)("p",{className:"text-xs text-red-500",children:"Requiere atenci\xf3n"})]}),(0,s.jsx)("div",{className:"p-3 bg-red-100 rounded-full",children:(0,s.jsx)(y.Z,{className:"h-6 w-6 text-red-600"})})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stock del D\xeda Anterior"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Donuts Choco"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900",children:"45"}),(0,s.jsx)("p",{className:"text-xs text-green-600",children:"Normal"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Rellenas"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900",children:"15"}),(0,s.jsx)("p",{className:"text-xs text-red-600",children:"Bajo"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Pasteles"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900",children:"8"}),(0,s.jsx)("p",{className:"text-xs text-green-600",children:"Normal"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Pizzas"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900",children:"0"}),(0,s.jsx)("p",{className:"text-xs text-red-600",children:"Agotado"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Pan Hamburguesa"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900",children:"125"}),(0,s.jsx)("p",{className:"text-xs text-green-600",children:"Excelente"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Muffins"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900",children:"32"}),(0,s.jsx)("p",{className:"text-xs text-green-600",children:"Normal"})]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:o.map((e,t)=>(0,s.jsx)("button",{onClick:e.onClick,className:"".concat(e.color," text-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"),children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)(e.icon,{className:"h-12 w-12"}),(0,s.jsx)("span",{className:"text-lg font-semibold",children:e.label})]})},t))}),(0,s.jsxs)("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progreso de Ventas Semanal"}),(0,s.jsx)(em.h,{width:"100%",height:200,children:(0,s.jsxs)(eu.w,{data:el,children:[(0,s.jsx)(eg.K,{dataKey:"day"}),(0,s.jsx)(ep.B,{hide:!0}),(0,s.jsx)(ej.u,{formatter:(e,t)=>["ventas"===t?"$".concat(Number(e).toFixed(2)):e,"ventas"===t?"Ventas":"meta"===t?"Meta":"Pedidos"]}),(0,s.jsx)(ey.x,{type:"monotone",dataKey:"ventas",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",strokeWidth:2,r:4}}),(0,s.jsx)(ey.x,{type:"monotone",dataKey:"meta",stroke:"#EF4444",strokeDasharray:"5 5",strokeWidth:2,dot:!1})]})})]}),(0,s.jsxs)("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones r\xe1pidas"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>d("orders"),className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:"Nuevo pedido"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Crear un pedido r\xe1pidamente"})]}),(0,s.jsxs)("button",{onClick:()=>d("reports"),className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:"Ver reporte diario"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Consultar ventas del d\xeda"})]}),(0,s.jsxs)("button",{onClick:()=>d("products"),className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:"Gestionar inventario"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Actualizar stock de productos"})]})]})]})]})]})}function eR(){let[e,t]=(0,r.useState)(""),[a,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[N,v]=(0,r.useState)(!1),f=async e=>{e.preventDefault(),y(!0),setTimeout(()=>{y(!1),v(!0)},2e3)};return N?(0,s.jsx)(eS,{username:e,onLogout:()=>{v(!1),t(""),m("")}}):(0,s.jsxs)("div",{className:"min-h-screen flex",children:[(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-orange-50 to-amber-50 p-8",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(x,{size:"lg",className:"justify-center mb-4"}),(0,s.jsx)("p",{className:"text-orange-600 font-medium",children:"Mega Donut"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Bienvenido"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:"Inicia sesi\xf3n para continuar"}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de Usuario"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(i.Z,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"username",type:"text",value:e,onChange:e=>t(e.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors placeholder-gray-500 text-gray-900",placeholder:"Ingresa tu nombre de usuario",required:!0,disabled:b})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"cedula",className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de C\xe9dula"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(l.Z,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"cedula",type:u?"text":"password",value:a,onChange:e=>m(e.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors placeholder-gray-500 text-gray-900",placeholder:"Ingresa tu n\xfamero de c\xe9dula",required:!0,disabled:b}),(0,s.jsx)("button",{type:"button",onClick:()=>h(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:b,children:u?(0,s.jsx)(n.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,s.jsx)(d.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),(0,s.jsx)("button",{type:"submit",disabled:b,className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-orange-600 focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{color:"#ffffff",size:20}),(0,s.jsx)("span",{children:"Iniciando Sesi\xf3n..."})]}):(0,s.jsx)("span",{children:"Iniciar Sesi\xf3n"})})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("button",{onClick:()=>p(!0),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",disabled:b,children:"\xbfOlvidaste tu contrase\xf1a?"})})]})]})}),(0,s.jsxs)("div",{className:"flex-1 relative hidden lg:block",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/20 to-amber-600/20 z-10"}),(0,s.jsx)(c.default,{src:"https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Panader\xeda y producci\xf3n de pan",fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:"object-cover",priority:!0,quality:85}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-8 text-white",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Mega Donut"}),(0,s.jsx)("p",{className:"text-lg opacity-90",children:"Gesti\xf3n inteligente para tu negocio"})]})]}),(0,s.jsx)(j,{isOpen:g,onClose:()=>p(!1)})]})}}},function(e){e.O(0,[669,971,69,744],function(){return e(e.s=32553)}),_N_E=e.O()}]);